<!--
  ~ Copyright (c) 2018-2025 Porsche Informatik. All Rights Reserved.
  ~ This software is released under MIT license.
  ~ The full license information can be found in LICENSE in the root directory of this project.
  -->

<div class="treetable">
  <div class="treetable-grid" role="grid">
    <div class="treetable-header" role="rowgroup" [class.hide-header]="clrHideHeader()">
      @if (showSelection() && !empty()) {
      <div class="clr-checkbox-wrapper treetable-row-selection treetable-column" role="row">
        <input
          type="checkbox"
          data-testId="clrTtSelectAll"
          [checked]="areAllRowsSelected()"
          (change)="toggleSelectAll()"
        />
      </div>
      }

      <div *ngIf="hasActionOverflow()" class="treetable-row-actions treetable-column">&nbsp;</div>
      <div class="treetable-row-scrollable" role="row">
        <ng-content select="clr-tt-column" />
      </div>
    </div>
    <div class="treetable-body">
      @if (isRecursionMode()) {
      <clr-tt-recursive-rows [children]="displayedNodes()" />
      } @else {
      <ng-content select="clr-tt-row" />
      } @if (empty()) {
      <ng-content select="clr-tt-placeholder" />
      }
    </div>
  </div>
  @if (clrTtLoading()) {
  <div class="treetable-spinner">
    <clr-spinner clrMedium />
  </div>
  }
</div>
