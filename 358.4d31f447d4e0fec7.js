"use strict";(self.webpackChunkclarity=self.webpackChunkclarity||[]).push([[358],{47358:(so,ft,k)=>{k.r(ft),k.d(ft,{AngularCalendarDemoModule:()=>ro});var v=k(60177),gt=k(84341),fn=k(338),yt=k(57519),gn=k(36366),yn=k(63275),wn=k(20786),Dn=k(2985);function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function E(t,r){if(r.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+r.length+" present")}function F(t){E(1,arguments);var r=Object.prototype.toString.call(t);return t instanceof Date||"object"===ve(t)&&"[object Date]"===r?new Date(t.getTime()):"number"==typeof t||"[object Number]"===r?new Date(t):(("string"==typeof t||"[object String]"===r)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function X(t){E(1,arguments);var r=F(t);return r.setHours(0,0,0,0),r}function fe(t){E(1,arguments);var r=F(t);return r.setHours(23,59,59,999),r}function I(t){if(null===t||!0===t||!1===t)return NaN;var r=Number(t);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function Be(t,r){E(2,arguments);var e=F(t).getTime(),a=I(r);return new Date(e+a)}var Cn=36e5;function Q(t,r){return E(2,arguments),Be(t,I(r)*Cn)}function Ie(t,r){return E(2,arguments),Q(t,-I(r))}function ge(){var t=new Date,r=t.getFullYear(),e=t.getMonth(),a=t.getDate(),i=new Date(0);return i.setFullYear(r,e,a-1),i.setHours(0,0,0,0),i}var n=k(54438),_n=k(87620),Tn=k(91464),A=k(21413),le=k(71985),En=k(7673),kn=k(41584),Sn=k(84412),bn=k(40605),P=k(56977),xe=k(25558),wt=k(99172),Mn=k(98071),z=k(96354),Hn=function(){function t(){}return t.prototype.getAllStyles=function(r){return window.getComputedStyle(r)},t.prototype.getStyle=function(r,e){return this.getAllStyles(r)[e]},t.prototype.isStaticPositioned=function(r){return"static"===(this.getStyle(r,"position")||"static")},t.prototype.offsetParent=function(r){for(var e=r.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(r,e){void 0===e&&(e=!0);var a,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(r,"position"))a={top:(a=r.getBoundingClientRect()).top,bottom:a.bottom,left:a.left,right:a.right,height:a.height,width:a.width};else{var o=this.offsetParent(r);a=this.offset(r,!1),o!==document.documentElement&&(i=this.offset(o,!1)),i.top+=o.clientTop,i.left+=o.clientLeft}return a.top-=i.top,a.bottom-=i.top,a.left-=i.left,a.right-=i.left,e&&(a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a},t.prototype.offset=function(r,e){void 0===e&&(e=!0);var a=r.getBoundingClientRect(),i_top=window.pageYOffset-document.documentElement.clientTop,i_left=window.pageXOffset-document.documentElement.clientLeft,o={height:a.height||r.offsetHeight,width:a.width||r.offsetWidth,top:a.top+i_top,bottom:a.bottom+i_top,left:a.left+i_left,right:a.right+i_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(r,e,a,i){var o=a.split("-"),s=o[0],l=void 0===s?"top":s,c=o[1],d=void 0===c?"center":c,u=i?this.offset(r,!1):this.position(r,!1),p=this.getAllStyles(e),h=parseFloat(p.marginTop),m=parseFloat(p.marginBottom),g=parseFloat(p.marginLeft),D=parseFloat(p.marginRight),w=0,C=0;switch(l){case"top":w=u.top-(e.offsetHeight+h+m);break;case"bottom":w=u.top+u.height;break;case"left":C=u.left-(e.offsetWidth+g+D);break;case"right":C=u.left+u.width}switch(d){case"top":w=u.top;break;case"bottom":w=u.top+u.height-e.offsetHeight;break;case"left":C=u.left;break;case"right":C=u.left+u.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?C=u.left+u.width/2-e.offsetWidth/2:w=u.top+u.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(C)+"px, "+Math.round(w)+"px)";var T=e.getBoundingClientRect(),_=document.documentElement,b=window.innerHeight||_.clientHeight,H=window.innerWidth||_.clientWidth;return T.left>=0&&T.top>=0&&T.right<=H&&T.bottom<=b},t}(),Fn=/\s+/,Dt=new Hn,Y=function(){return Y=Object.assign||function(t){for(var r,e=1,a=arguments.length;e<a;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},Y.apply(this,arguments)},We=function(t,r,e){if(e||2===arguments.length)for(var o,a=0,i=r.length;a<i;a++)(o||!(a in r))&&(o||(o=Array.prototype.slice.call(r,0,a)),o[a]=r[a]);return t.concat(o||Array.prototype.slice.call(r))},ze=function(t){return t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",t}(ze||{}),Vn=[ze.SUNDAY,ze.SATURDAY],Ae=7,U=86400;function Ct(t,r){var e=r.startDate,i=r.excluded,o=r.precision;if(i.length<1)return 0;for(var l=t.getDay,c=t.addDays,d=(0,t.addSeconds)(e,r.seconds-1),u=l(e),p=l(d),h=0,m=e,g=function(){var D=l(m);i.some(function(w){return w===D})&&(h+=function Bn(t,r){var a=r.day,o=r.dayEnd,s=r.startDate,l=r.endDate,c=t.differenceInSeconds,u=t.startOfDay;if("minutes"===r.precision){if(a===r.dayStart)return c((0,t.endOfDay)(s),s)+1;if(a===o)return c(l,u(l))+1}return U}(t,{dayStart:u,dayEnd:p,day:D,precision:o,startDate:e,endDate:d})),m=c(m,1)};m<d;)g();return h}function de(t,r){var a=r.periodStart,i=r.periodEnd;return r.events.filter(function(o){return function Wn(t,r){var e=r.event,a=r.periodStart,i=r.periodEnd,o=t.isSameSecond,s=e.start,l=e.end||e.start;return!!(s>a&&s<i||l>a&&l<i||s<a&&l>i||o(s,a)||o(s,i)||o(l,a)||o(l,i))}(t,{event:o,periodStart:a,periodEnd:i})})}function _t(t,r){var e=r.date,a=r.weekendDays,i=void 0===a?Vn:a,s=t.isSameDay,l=t.getDay,c=(0,t.startOfDay)(new Date),d=l(e);return{date:e,day:d,isPast:e<c,isToday:s(e,c),isFuture:e>c,isWeekend:i.indexOf(d)>-1}}function $e(t,r){for(var i=r.excluded,o=void 0===i?[]:i,s=r.weekendDays,l=r.viewStart,c=void 0===l?t.startOfWeek(r.viewDate,{weekStartsOn:r.weekStartsOn}):l,d=r.viewEnd,u=void 0===d?t.addDays(c,Ae):d,p=t.addDays,h=t.getDay,m=[],g=c;g<u;)o.some(function(D){return h(g)===D})||m.push(_t(t,{date:g,weekendDays:s})),g=p(g,1);return m}function An(t,r){var e=r.events,a=void 0===e?[]:e,i=r.excluded,o=void 0===i?[]:i,s=r.precision,l=void 0===s?"days":s,c=r.absolutePositionedEvents,d=void 0!==c&&c,u=r.viewStart,p=r.viewEnd;u=t.startOfDay(u),p=t.endOfDay(p);var h=t.differenceInSeconds,m=t.differenceInDays,g=function zn(t,r){for(var a=r.date2,i=r.excluded,o=r.date1,s=0;o<a;)-1===i.indexOf(t.getDay(o))&&s++,o=t.addDays(o,1);return s}(t,{date1:u,date2:p,excluded:o}),D=m(p,u)+1,w=a.filter(function(_){return _.allDay}).map(function(_){var b=function xn(t,r){var e=r.event,a=r.startOfWeek,i=r.excluded,o=r.precision,s=t.differenceInDays,l=t.startOfDay,c=t.differenceInSeconds;if(e.start<a)return 0;var d=0;switch(o){case"days":d=s(l(e.start),a)*U;break;case"minutes":d=c(e.start,a)}return d-=Ct(t,{startDate:a,seconds:d,excluded:i,precision:o}),Math.abs(d/U)}(t,{event:_,startOfWeek:u,excluded:o,precision:l}),H=function In(t,r){var e=r.event,a=r.offset,o=r.excluded,s=r.precision,l=r.totalDaysInView,d=t.differenceInSeconds,u=t.addDays,p=t.endOfDay,h=t.differenceInDays,m=U,g=(0,t.max)([e.start,r.startOfWeekDate]);e.end&&(m="minutes"===s?d(e.end,g):h(u(p(e.end),1),g)*U);var D=a*U,C=l*U;return D+m>C&&(m=C-D),(m-=Ct(t,{startDate:g,seconds:m,excluded:o,precision:s}))/U}(t,{event:_,offset:b,startOfWeekDate:u,excluded:o,precision:l,totalDaysInView:D});return{event:_,offset:b,span:H}}).filter(function(_){return _.offset<g}).filter(function(_){return _.span>0}).map(function(_){return{event:_.event,offset:_.offset,span:_.span,startsBeforeWeek:_.event.start<u,endsAfterWeek:(_.event.end||_.event.start)>p}}).sort(function(_,b){var H=h(_.event.start,b.event.start);return 0===H?h(b.event.end||b.event.start,_.event.end||_.event.start):H}),C=[],T=[];return w.forEach(function(_,b){if(-1===T.indexOf(_)){T.push(_);var H=_.span+_.offset,V=w.slice(b+1).filter(function(S){if(S.offset>=H&&H+S.span<=D&&-1===T.indexOf(S)){var M=S.offset-H;return d||(S.offset=M),H+=S.span+M,T.push(S),!0}}),x=We([_],V,!0),O=x.filter(function(S){return S.event.id}).map(function(S){return S.event.id}).join("-");C.push(Y({row:x},O?{id:O}:{}))}}),C}function Yn(t,r){var e=r.events,a=r.viewDate,i=r.hourSegments,o=r.hourDuration,s=r.dayStart,l=r.dayEnd,c=r.weekStartsOn,d=r.excluded,u=r.weekendDays,p=r.segmentHeight,h=r.viewStart,m=r.viewEnd,g=r.minimumEventHeight,D=function Nn(t,r){var e=r.viewDate,a=r.hourSegments,i=r.hourDuration,o=r.dayStart,s=r.dayEnd,l=t.setMinutes,c=t.setHours,d=t.startOfDay,u=t.startOfMinute,p=t.endOfDay,h=t.addMinutes,m=t.addDays,g=[],D=l(c(d(e),De(o.hour)),Ce(o.minute)),w=l(c(u(p(e)),De(s.hour)),Ce(s.minute)),C=(i||60)/a,T=d(e),_=p(e),b=function(M){return M};t.getTimezoneOffset(T)!==t.getTimezoneOffset(_)&&(T=m(T,1),D=m(D,1),w=m(w,1),b=function(M){return m(M,-1)});for(var H=i?1440/i:60,V=0;V<H;V++){for(var x=[],O=0;O<a;O++){var S=h(h(D,V*(i||60)),O*C);S>=D&&S<w&&x.push({date:b(S),displayDate:S,isStart:0===O})}x.length>0&&g.push({segments:x})}return g}(t,{viewDate:a,hourSegments:i,hourDuration:o,dayStart:s,dayEnd:l}),w=$e(t,{viewDate:a,weekStartsOn:c,excluded:d,weekendDays:u,viewStart:h,viewEnd:m}),C=t.setHours,T=t.setMinutes,_=t.getHours,b=t.getMinutes;return w.map(function(H){var V=function Gn(t,r){var e=r.events,a=r.viewDate,i=r.hourSegments,o=r.dayStart,s=r.dayEnd,l=r.eventWidth,c=r.segmentHeight,d=r.hourDuration,u=r.minimumEventHeight,p=t.setMinutes,h=t.setHours,m=t.startOfDay,g=t.startOfMinute,D=t.endOfDay,w=t.differenceInMinutes,C=p(h(m(a),De(o.hour)),Ce(o.minute)),T=p(h(g(D(a)),De(s.hour)),Ce(s.minute));T.setSeconds(59,999);var _=[],b=de(t,{events:e.filter(function(O){return!O.allDay}),periodStart:C,periodEnd:T}),H=b.sort(function(O,S){return O.start.valueOf()-S.start.valueOf()}).map(function(O){var S=O.start,M=O.end||S,y=S<C,f=M>T,B=i*c/(d||60),R=0;if(S>C){var ut=t.getTimezoneOffset(S),Ve=t.getTimezoneOffset(C)-ut;R+=w(S,C)+Ve}R*=B,R=Math.floor(R);var pt=y?C:S,W=f?T:M,se=t.getTimezoneOffset(pt)-t.getTimezoneOffset(W),j=w(W,pt)+se;O.end?j*=B:j=c,u&&j<u&&(j=u),j=Math.floor(j);for(var io=we(_,R,R+j),vt=0;io.some(function(oo){return oo.left===vt});)vt+=l;var vn={event:O,height:j,width:l,top:R,left:vt,startsBeforeDay:y,endsAfterDay:f};return _.push(vn),vn}),V=Math.max.apply(Math,H.map(function(O){return O.left+O.width})),x=de(t,{events:e.filter(function(O){return O.allDay}),periodStart:m(C),periodEnd:D(T)});return{events:H,width:V,allDayEvents:x,period:{events:b,start:C,end:T}}}(t,{events:e,viewDate:H.date,hourSegments:i,dayStart:s,dayEnd:l,segmentHeight:p,eventWidth:1,hourDuration:o,minimumEventHeight:g}),x=D.map(function(M){var y=M.segments.map(function(f){var B=T(C(H.date,_(f.date)),b(f.date));return Y(Y({},f),{date:B})});return Y(Y({},M),{segments:y})});function O(M,y){var f=Math.max.apply(Math,y.map(function(R){return R.left+1})),B=M.filter(function(R){return R.left>=f}).filter(function(R){return we(y,R.top,R.top+R.height).length>0});return B.length>0?O(M,B):f}var S=V.events.map(function(M){var f=100/O(V.events,we(V.events,M.top,M.top+M.height));return Y(Y({},M),{left:M.left*f,width:f})});return{hours:x,date:H.date,events:S.map(function(M){var y=we(S.filter(function(f){return f.left>M.left}),M.top,M.top+M.height);return y.length>0?Y(Y({},M),{width:Math.min.apply(Math,y.map(function(f){return f.left}))-M.left}):M})}})}function we(t,r,e){return t.filter(function(a){var i=a.top,o=a.top+a.height;return r<o&&o<e||r<i&&i<e||i<=r&&e<=o})}function De(t){return Math.max(Math.min(23,t),0)}function Ce(t){return Math.max(Math.min(59,t),0)}var ne=function(t){return t.NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`",t}(ne||{}),Xn=k(92771),G=k(57786),Pn=k(84572),je=k(33726),$=k(5964),Ge=k(31397),Tt=k(58750),Et=k(47707),Ne=k(39974);function N(t={}){const{connector:r=(()=>new A.B),resetOnError:e=!0,resetOnComplete:a=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,l,c,d=0,u=!1,p=!1;const h=()=>{l?.unsubscribe(),l=void 0},m=()=>{h(),s=c=void 0,u=p=!1},g=()=>{const D=s;m(),D?.unsubscribe()};return(0,Ne.N)((D,w)=>{d++,!p&&!u&&h();const C=c=c??r();w.add(()=>{d--,0===d&&!p&&!u&&(l=Le(g,i))}),C.subscribe(w),!s&&d>0&&(s=new Et.Ms({next:T=>C.next(T),error:T=>{p=!0,h(),l=Le(m,e,T),C.error(T)},complete:()=>{u=!0,h(),l=Le(m,a),C.complete()}}),(0,Tt.Tg)(D).subscribe(s))})(o)}}function Le(t,r,...e){if(!0===r)return void t();if(!1===r)return;const a=new Et.Ms({next:()=>{a.unsubscribe(),t()}});return(0,Tt.Tg)(r(...e)).subscribe(a)}var ce=k(96697),Un=k(55109),Kn=k(46649);var qn=k(54360);function Xe(){return(0,Ne.N)((t,r)=>{let e,a=!1;t.subscribe((0,qn._)(r,i=>{const o=e;e=i,a&&r.next([o,i]),a=!0}))})}var Zn=k(23294);function Pe(t,r){return t=function ea(t,r){return typeof t>"u"?typeof r>"u"?t:r:t}(t,r),"function"==typeof t?function(){for(var a=arguments,i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=a[s];return!!t.apply(this,o)}:t?function(){return!0}:function(){return!1}}var Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},kt=function(t){return null!=t&&"object"===(typeof t>"u"?"undefined":Ue(t))&&1===t.nodeType&&"object"===Ue(t.style)&&"object"===Ue(t.ownerDocument)};function St(t,r){if(r=Je(r,!0),!kt(r))return-1;for(var e=0;e<t.length;e++)if(t[e]===r)return e;return-1}function Ke(t,r){return-1!==St(t,r)}function na(t){for(var r=arguments,e=[],a=arguments.length-1;a-- >0;)e[a]=r[a+1];return function ta(t,r){for(var e=0;e<r.length;e++)Ke(t,r[e])||t.push(r[e]);return r}(t,e=e.map(Je))}function aa(t){for(var r=arguments,e=[],a=arguments.length-1;a-- >0;)e[a]=r[a+1];return e.map(Je).reduce(function(i,o){var s=St(t,o);return-1!==s?i.concat(t.splice(s,1)):i},[])}function Je(t,r){if("string"==typeof t)try{return document.querySelector(t)}catch(e){throw e}if(!kt(t)&&!r)throw new TypeError(t+" is not a DOM element.");return t}function bt(t){if(t===window)return function ia(){var t={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},t);var r={};return Object.defineProperties(r,t),r}();try{var r=t.getBoundingClientRect();return void 0===r.x&&(r.x=r.left,r.y=r.top),r}catch{throw new TypeError("Can't call getBoundingClientRect on "+t)}}var sa="function"!=typeof Object.create?function(t){var r=function(){};return function(e,a){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");r.prototype=e||{};var i=new r;return r.prototype=null,void 0!==a&&Object.defineProperties(i,a),null===e&&(i.__proto__=null),i}}():Object.create,q=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function qe(t,r){r=r||{};for(var e=sa(t),a=0;a<q.length;a++)void 0!==r[q[a]]&&(e[q[a]]=r[q[a]]);return e}function Ze(t,r){console.log("data ",r),t.data=r||{},t.dispatched="mousemove"}var ue=["webkit","moz","ms","o"],me=function(){if(typeof window>"u")return function(){};for(var t=0,r=ue.length;t<r&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[ue[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(a){var i=(new Date).getTime(),o=Math.max(0,16-i-e),s=window.setTimeout(function(){return a(i+o)},o);return e=i+o,s}}return window.requestAnimationFrame.bind(window)}(),ae=function(){if(typeof window>"u")return function(){};for(var t=0,r=ue.length;t<r&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[ue[t]+"CancelAnimationFrame"]||window[ue[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function da(t,r){void 0===r&&(r={});var e=this,a=4,i=!1;if("object"!=typeof r.margin){var o=r.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=r.margin;this.scrollWhenOutside=r.scrollWhenOutside||!1;var s={},l=function ra(t,r){var e=Pe((r=r||{}).allowUpdate,!0);return function(i){if(i=i||window.event,t.target=i.target||i.srcElement||i.originalTarget,t.element=this,t.type=i.type,e(i)){if(i.targetTouches)t.x=i.targetTouches[0].clientX,t.y=i.targetTouches[0].clientY,t.pageX=i.targetTouches[0].pageX,t.pageY=i.targetTouches[0].pageY,t.screenX=i.targetTouches[0].screenX,t.screenY=i.targetTouches[0].screenY;else{if(null===i.pageX&&null!==i.clientX){var o=i.target&&i.target.ownerDocument||document,s=o.documentElement,l=o.body;t.pageX=i.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),t.pageY=i.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}else t.pageX=i.pageX,t.pageY=i.pageY;t.x=i.clientX,t.y=i.clientY,t.screenX=i.screenX,t.screenY=i.screenY}t.clientX=t.x,t.clientY=t.y}}}(s),c=function la(t){var r={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(o){for(var s=0;s<q.length;s++)r[q[s]]=o[q[s]]}return void 0!==t&&t.addEventListener("mousemove",e),{destroy:function i(){t&&t.removeEventListener("mousemove",e,!1),r=null},dispatch:MouseEvent?function(s,l,c){var d=new MouseEvent("mousemove",qe(r,l));return Ze(d,c),s.dispatchEvent(d)}:"function"==typeof document.createEvent?function(s,l,c){var d=qe(r,l),u=document.createEvent("MouseEvents");return u.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),Ze(u,c),s.dispatchEvent(u)}:"function"==typeof document.createEventObject?function(s,l,c){var d=document.createEventObject(),u=qe(r,l);for(var p in u)d[p]=u[p];return Ze(d,c),s.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(r.maxSpeed)||(a=r.maxSpeed),"object"!=typeof a&&(a={left:a,right:a,top:a,bottom:a}),this.autoScroll=Pe(r.autoScroll),this.syncMove=Pe(r.syncMove,!1),this.destroy=function(y){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",D,!1),window.removeEventListener("touchstart",D,!1),window.removeEventListener("mouseup",w,!1),window.removeEventListener("touchend",w,!1),window.removeEventListener("pointerup",w,!1),window.removeEventListener("mouseleave",T,!1),window.removeEventListener("mousemove",H,!1),window.removeEventListener("touchmove",H,!1),window.removeEventListener("scroll",g,!0),t=[],y&&C()},this.add=function(){for(var y=[],f=arguments.length;f--;)y[f]=arguments[f];return na.apply(void 0,[t].concat(y)),this},this.remove=function(){for(var y=[],f=arguments.length;f--;)y[f]=arguments[f];return aa.apply(void 0,[t].concat(y))};var p,y,u=null;"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),y=t,t=[],y.forEach(function(f){f===window?u=window:e.add(f)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return a}},point:{get:function(){return s}},scrolling:{get:function(){return i}}});var m,h=null;function g(y){for(var f=0;f<t.length;f++)if(t[f]===y.target){i=!0;break}i&&me(function(){return i=!1})}function D(){d=!0}function w(){d=!1,C()}function C(){ae(m),ae(p)}function T(){d=!1}function b(){for(var y=null,f=0;f<t.length;f++)Mt(s,t[f])&&(y=t[f]);return y}function H(y){if(e.autoScroll()&&!y.dispatched){var f=y.target,B=document.body;h&&!Mt(s,h)&&(e.scrollWhenOutside||(h=null)),f&&f.parentNode===B?f=b():(f=function _(y){if(!y)return null;if(h===y||Ke(t,y))return y;for(;y=y.parentNode;)if(Ke(t,y))return y;return null}(f),f||(f=b())),f&&f!==h&&(h=f),u&&(ae(p),p=me(V)),h&&(ae(m),m=me(x))}}function V(){O(u),ae(p),p=me(V)}function x(){h&&(O(h),ae(m),m=me(x))}function O(y){var B,R,f=bt(y);B=s.x<f.left+e.margin.left?Math.floor(Math.max(-1,(s.x-f.left)/e.margin.left-1)*e.maxSpeed.left):s.x>f.right-e.margin.right?Math.ceil(Math.min(1,(s.x-f.right)/e.margin.right+1)*e.maxSpeed.right):0,R=s.y<f.top+e.margin.top?Math.floor(Math.max(-1,(s.y-f.top)/e.margin.top-1)*e.maxSpeed.top):s.y>f.bottom-e.margin.bottom?Math.ceil(Math.min(1,(s.y-f.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&c.dispatch(y,{pageX:s.pageX+B,pageY:s.pageY+R,clientX:s.x+B,clientY:s.y+R}),setTimeout(function(){R&&function S(y,f){y===window?window.scrollTo(y.pageXOffset,y.pageYOffset+f):y.scrollTop+=f}(y,R),B&&function M(y,f){y===window?window.scrollTo(y.pageXOffset+f,y.pageYOffset):y.scrollLeft+=f}(y,B)})}window.addEventListener("mousedown",D,!1),window.addEventListener("touchstart",D,!1),window.addEventListener("mouseup",w,!1),window.addEventListener("touchend",w,!1),window.addEventListener("pointerup",w,!1),window.addEventListener("mousemove",H,!1),window.addEventListener("touchmove",H,!1),window.addEventListener("mouseleave",T,!1),window.addEventListener("scroll",g,!0)}function Mt(t,r,e){return e?t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right:function oa(t,r){var e=bt(r);return t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right}(t,r)}function et(t,r,e){e&&e.split(" ").forEach(a=>t.addClass(r.nativeElement,a))}function _e(t,r,e){e&&e.split(" ").forEach(a=>t.removeClass(r.nativeElement,a))}let Ot=(()=>{class t{constructor(){this.currentDrag=new A.B}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ht=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.aKT))},t.\u0275dir=n.FsC({type:t,selectors:[["","mwlDraggableScrollContainer",""]]}),t})(),tt=(()=>{class t{constructor(e,a,i,o,s,l,c){this.element=e,this.renderer=a,this.draggableHelper=i,this.zone=o,this.vcr=s,this.scrollContainer=l,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new n.bkB,this.dragStart=new n.bkB,this.ghostElementCreated=new n.bkB,this.dragging=new n.bkB,this.dragEnd=new n.bkB,this.pointerDown$=new A.B,this.pointerMove$=new A.B,this.pointerUp$=new A.B,this.eventListenerSubscriptions={},this.destroy$=new A.B,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe((0,$.p)(()=>this.canDrag()),(0,Ge.Z)(a=>{a.event.stopPropagation&&!this.scrollContainer&&a.event.stopPropagation();const i=this.renderer.createElement("style");this.renderer.setAttribute(i,"type","text/css"),this.renderer.appendChild(i,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(i)});const o=this.getScrollPosition(),s=new le.c(m=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",D=>m.next(D))).pipe((0,wt.Z)(o),(0,z.T)(()=>this.getScrollPosition())),l=new A.B,c=new Xn.m;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=(0,G.h)(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe(N()),u=(0,Pn.z)([this.pointerMove$,s]).pipe((0,z.T)(([m,g])=>({currentDrag$:l,transformX:m.clientX-a.clientX,transformY:m.clientY-a.clientY,clientX:m.clientX,clientY:m.clientY,scrollLeft:g.left,scrollTop:g.top,target:m.event.target})),(0,z.T)(m=>(this.dragSnapGrid.x&&(m.transformX=Math.round(m.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(m.transformY=Math.round(m.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),m)),(0,z.T)(m=>(this.dragAxis.x||(m.transformX=0),this.dragAxis.y||(m.transformY=0),m)),(0,z.T)(m=>{const g=m.scrollLeft-o.left,D=m.scrollTop-o.top;return{...m,x:m.transformX+g,y:m.transformY+D}}),(0,$.p)(({x:m,y:g,transformX:D,transformY:w})=>!this.validateDrag||this.validateDrag({x:m,y:g,transform:{x:D,y:w}})),(0,P.Q)(d),N()),p=u.pipe((0,ce.s)(1),N()),h=u.pipe((0,Un.o)(1),N());return p.subscribe(({clientX:m,clientY:g,x:D,y:w})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=function ca(t,r){return new da(t,r)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),et(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const C=this.element.nativeElement.getBoundingClientRect(),T=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(T):this.element.nativeElement.parentNode.insertBefore(T,this.element.nativeElement.nextSibling),this.ghostElement=T,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(T,{position:"fixed",top:`${C.top}px`,left:`${C.left}px`,width:`${C.width}px`,height:`${C.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const _=this.vcr.createEmbeddedView(this.ghostElementTemplate);T.innerHTML="",_.rootNodes.filter(b=>b instanceof Node).forEach(b=>{T.appendChild(b)}),h.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(_))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:m-D,clientY:g-w,element:T})}),h.subscribe(()=>{T.parentElement.removeChild(T),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),h.pipe((0,Ge.Z)(m=>{const g=c.pipe(function Qn(t){return function Jn(t,r){return(0,Ne.N)((0,Kn.S)(t,r,arguments.length>=2,!1,!0))}((r,e,a)=>!t||t(e,a)?r+1:r,0)}(),(0,ce.s)(1),(0,z.T)(D=>({...m,dragCancelled:D>0})));return c.complete(),g})).subscribe(({x:m,y:g,dragCancelled:D})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:m,y:g,dragCancelled:D})}),_e(this.renderer,this.element,this.dragActiveClass),l.complete()}),(0,G.h)(d,h).pipe((0,ce.s)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(i)})}),u}),N());(0,G.h)(e.pipe((0,ce.s)(1),(0,z.T)(a=>[,a])),e.pipe(Xe())).pipe((0,$.p)(([a,i])=>!a||a.x!==i.x||a.y!==i.y),(0,z.T)(([a,i])=>i)).subscribe(({x:a,y:i,currentDrag$:o,clientX:s,clientY:l,transformX:c,transformY:d,target:u})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:a,y:i})}),requestAnimationFrame(()=>{if(this.ghostElement){const p=`translate3d(${c}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:p,"-webkit-transform":p,"-ms-transform":p,"-moz-transform":p,"-o-transform":p})}}),o.next({clientX:s,clientY:l,dropData:this.dropData,target:u})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),a=Object.keys(this.eventListenerSubscriptions).length>0;e&&!a?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",i=>{this.onMouseDown(i)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",i=>{this.onMouseUp(i)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",i=>{this.onTouchStart(i)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",i=>{this.onTouchEnd(i)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",i=>{this.onTouchEnd(i)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&a&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",a=>{this.pointerMove$.next({event:a,clientX:a.clientX,clientY:a.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let a,i,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),i=!1,o=this.hasScrollbar(),a=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const s=(0,je.R)(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),l=(0,je.R)(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!i&&o&&(i=this.shouldBeginDrag(e,c,a)),(!this.touchStartLongPress||!o||i)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,a){Object.keys(a).forEach(i=>{this.renderer.setStyle(e,i,a[i])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,a,i){const o=this.getScrollPosition(),s_top=Math.abs(o.top-i.top),s_left=Math.abs(o.left-i.left),l=Math.abs(a.targetTouches[0].clientX-e.touches[0].clientX)-s_left,c=Math.abs(a.targetTouches[0].clientY-e.touches[0].clientY)-s_top,u=this.touchStartLongPress;return(l+c>u.delta||s_top>0||s_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=u.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.aKT),n.rXU(n.sFG),n.rXU(Ot),n.rXU(n.SKi),n.rXU(n.c1b),n.rXU(Ht,8),n.rXU(v.qQ))},t.\u0275dir=n.FsC({type:t,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[n.OA$]}),t})();function Ft(t,r,e){return t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom}let Te=(()=>{class t{constructor(e,a,i,o,s){this.element=e,this.draggableHelper=a,this.zone=i,this.renderer=o,this.scrollContainer=s,this.dragEnter=new n.bkB,this.dragLeave=new n.bkB,this.dragOver=new n.bkB,this.drop=new n.bkB}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{et(this.renderer,this.element,this.dragActiveClass);const a={updateCache:!0},i=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{a.updateCache=!0});let o;const s=e.pipe((0,z.T)(({clientX:d,clientY:u,dropData:p,target:h})=>{o={clientX:d,clientY:u,dropData:p,target:h},a.updateCache&&(a.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(a.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),a.updateCache=!1);const m=Ft(d,u,a.rect),g=!this.validateDrop||this.validateDrop({clientX:d,clientY:u,target:h,dropData:p});return a.scrollContainerRect?m&&g&&Ft(d,u,a.scrollContainerRect):m&&g})),l=s.pipe((0,Zn.F)());let c;l.pipe((0,$.p)(d=>d)).subscribe(()=>{c=!0,et(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),s.pipe((0,$.p)(d=>d)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),l.pipe(Xe(),(0,$.p)(([d,u])=>d&&!u)).subscribe(()=>{c=!1,_e(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),e.subscribe({complete:()=>{i(),_e(this.renderer,this.element,this.dragActiveClass),c&&(_e(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.aKT),n.rXU(Ot),n.rXU(n.SKi),n.rXU(n.sFG),n.rXU(Ht,8))},t.\u0275dir=n.FsC({type:t,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),t})(),Ee=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({}),t})();var L=k(49969),ma=k(88141);const Z=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function Rt(t,r,e,a){const i=r.querySelectorAll(t);if(i.length){const o=e.querySelectorAll(t);for(let s=0;s<i.length;s++)a(i[s],o[s])}}let ha=0;function Vt(t,r){"file"!==r.type&&(r.value=t.value),"radio"===r.type&&r.name&&(r.name=`mat-clone-${r.name}-${ha++}`)}function Bt(t,r){const e=r.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function It(t,r,e,a){const i={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return r.top&&(i.top+=a),r.bottom&&(i.bottom+=a),r.left&&(i.left+=e),r.right&&(i.right+=e),i.height=i.bottom-i.top,i.width=i.right-i.left,i}const xt=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Wt(t,r){return t.left&&t.top?r.topLeft:t.right&&t.top?r.topRight:t.left&&t.bottom?r.bottomLeft:t.right&&t.bottom?r.bottomRight:t.left||t.right?r.leftOrRight:t.top||t.bottom?r.topOrBottom:""}function ke({edges:t,initialRectangle:r,newRectangle:e}){const a={};return Object.keys(t).forEach(i=>{a[i]=(e[i]||0)-(r[i]||0)}),a}const zt="resize-active";let At=(()=>{class t{constructor(e,a,i,o){this.platformId=e,this.renderer=a,this.elm=i,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=xt,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new n.bkB,this.resizing=new n.bkB,this.resizeEnd=new n.bkB,this.mouseup=new A.B,this.mousedown=new A.B,this.mousemove=new A.B,this.destroy$=new A.B,this.pointerEventListeners=re.getInstance(a,o)}ngOnInit(){const e=(0,G.h)(this.pointerEventListeners.pointerDown,this.mousedown),a=(0,G.h)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,ma.M)(({event:d})=>{o&&d.cancelable&&d.preventDefault()}),N()),i=(0,G.h)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>({...xt,...this.resizeCursors});e.pipe((0,Ge.Z)(d=>{function u(m){return{clientX:m.clientX-d.clientX,clientY:m.clientY-d.clientY}}const p=()=>{const m={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?m.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(m.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?m.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(m.y=+this.resizeSnapGrid.bottom)),m};function h(m,g){return{x:Math.ceil(m.clientX/g.x),y:Math.ceil(m.clientY/g.y)}}return(0,G.h)(a.pipe((0,ce.s)(1)).pipe((0,z.T)(m=>[,m])),a.pipe(Xe())).pipe((0,z.T)(([m,g])=>[m&&u(m),u(g)])).pipe((0,$.p)(([m,g])=>{if(!m)return!0;const D=p(),w=h(m,D),C=h(g,D);return w.x!==C.x||w.y!==C.y})).pipe((0,z.T)(([,m])=>{const g=p();return{clientX:Math.round(m.clientX/g.x)*g.x,clientY:Math.round(m.clientY/g.y)*g.y}})).pipe((0,P.Q)((0,G.h)(i,e)))})).pipe((0,$.p)(()=>!!o)).pipe((0,z.T)(({clientX:d,clientY:u})=>It(o.startingRect,o.edges,d,u))).pipe((0,$.p)(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe((0,$.p)(d=>!this.validateResize||this.validateResize({rectangle:d,edges:ke({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d})})),(0,P.Q)(this.destroy$)).subscribe(d=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:ke({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d}),rectangle:d})}),o.currentRect=d}),e.pipe((0,z.T)(({edges:d})=>d||{}),(0,$.p)(d=>Object.keys(d).length>0),(0,P.Q)(this.destroy$)).subscribe(d=>{o&&s();const u=function va(t,r){let e=0,a=0;const i=t.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>i[l]).find(l=>!!l);if(s&&s.includes("translate")&&(e=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),a=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===r)return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-a,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-a,left:t.nativeElement.offsetLeft-e,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-e};{const l=t.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-a,bottom:l.bottom-a,left:l.left-e,right:l.right-e,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:d,startingRect:u,currentRect:u};const p=l(),h=Wt(o.edges,p);this.renderer.setStyle(document.body,"cursor",h),this.setElementClass(this.elm,zt,!0),this.enableGhostResize&&(o.clonedNode=function pa(t){const r=t.cloneNode(!0),e=r.querySelectorAll("[id]"),a=t.nodeName.toLowerCase();return r.removeAttribute("id"),e.forEach(i=>{i.removeAttribute("id")}),"canvas"===a?Bt(t,r):("input"===a||"select"===a||"textarea"===a)&&Vt(t,r),Rt("canvas",t,r,Bt),Rt("input, textarea, select",t,r,Vt),r}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",Wt(o.edges,p)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:ke({edges:d,initialRectangle:u,newRectangle:u}),rectangle:It(u,{},0,0)})})}),i.pipe((0,P.Q)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,zt),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:ke({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnDestroy(){(0,v.UE)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,a,i){i?this.renderer.addClass(e.nativeElement,a):this.renderer.removeClass(e.nativeElement,a)}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.Agw),n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(n.SKi))},t.\u0275dir=n.FsC({type:t,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),t})();class re{constructor(r,e){this.pointerDown=new le.c(a=>{let i,o;return e.runOutsideAngular(()=>{i=r.listen("document","mousedown",s=>{a.next({clientX:s.clientX,clientY:s.clientY,event:s})}),Z&&(o=r.listen("document","touchstart",s=>{a.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{i(),Z&&o()}}).pipe(N()),this.pointerMove=new le.c(a=>{let i,o;return e.runOutsideAngular(()=>{i=r.listen("document","mousemove",s=>{a.next({clientX:s.clientX,clientY:s.clientY,event:s})}),Z&&(o=r.listen("document","touchmove",s=>{a.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{i(),Z&&o()}}).pipe(N()),this.pointerUp=new le.c(a=>{let i,o,s;return e.runOutsideAngular(()=>{i=r.listen("document","mouseup",l=>{a.next({clientX:l.clientX,clientY:l.clientY,event:l})}),Z&&(o=r.listen("document","touchend",l=>{a.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),s=r.listen("document","touchcancel",l=>{a.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{i(),Z&&(o(),s())}}).pipe(N())}static getInstance(r,e){return re.instance||(re.instance=new re(r,e)),re.instance}}let ya=(()=>{class t{constructor(e,a,i,o){this.renderer=e,this.element=a,this.zone=i,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new A.B}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),Z&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),(0,G.h)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,a,i){e.cancelable&&e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:a,clientY:i,edges:this.resizeEdges})}onMouseup(e,a){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:a,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,a,i){this.resizable.mousemove.next({clientX:a,clientY:i,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return(0,je.R)(this.element.nativeElement,e).pipe((0,P.Q)(this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(n.SKi),n.rXU(At,8))},t.\u0275dir=n.FsC({type:t,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),t})(),Yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({}),t})();const wa=(t,r)=>({event:t,trackByActionId:r}),Da=t=>({action:t});function Ca(t,r){if(1&t){const e=n.RV6();n.j41(0,"a",5),n.nI1(1,"calendarA11y"),n.bIt("mwlClick",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2).event;return n.Njj(o.onClick({event:s,sourceEvent:i}))})("mwlKeydownEnter",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2).event;return n.Njj(o.onClick({event:s,sourceEvent:i}))}),n.k0s()}if(2&t){const e=r.$implicit;n.Y8G("ngClass",e.cssClass)("innerHtml",e.label,n.npT),n.BMQ("aria-label",n.i5U(1,3,n.eq3(6,Da,e),"actionButtonLabel"))}}function _a(t,r){if(1&t&&(n.j41(0,"span",3),n.DNE(1,Ca,2,8,"a",4),n.k0s()),2&t){const e=n.XpG(),a=e.event,i=e.trackByActionId;n.R7$(),n.Y8G("ngForOf",a.actions)("ngForTrackBy",i)}}function Ta(t,r){1&t&&n.DNE(0,_a,2,2,"span",2),2&t&&n.Y8G("ngIf",r.event.actions)}function Ea(t,r){}const ka=(t,r)=>({event:t,view:r}),ie=()=>({});function Sa(t,r){if(1&t&&(n.nrm(0,"span",2),n.nI1(1,"calendarEventTitle"),n.nI1(2,"calendarA11y")),2&t){const e=r.event;n.Y8G("innerHTML",n.brH(1,2,e.title,r.view,e),n.npT),n.BMQ("aria-hidden",n.i5U(2,6,n.lJ4(9,ie),"hideEventTitle"))}}function ba(t,r){}const Ma=(t,r,e)=>({contents:t,placement:r,event:e});function Oa(t,r){if(1&t&&(n.j41(0,"div",2),n.nrm(1,"div",3)(2,"div",4),n.k0s()),2&t){const e=r.contents;n.Y8G("ngClass","cal-tooltip-"+r.placement),n.R7$(2),n.Y8G("innerHtml",e,n.npT)}}function Ha(t,r){}const Fa=(t,r,e,a,i,o,s,l,c,d,u,p)=>({day:t,openDay:r,locale:e,tooltipPlacement:a,highlightDay:i,unhighlightDay:o,eventClicked:s,tooltipTemplate:l,tooltipAppendToBody:c,tooltipDelay:d,trackByEventId:u,validateDrag:p}),Ra=(t,r)=>({day:t,locale:r}),nt=t=>({backgroundColor:t}),Va=(t,r)=>({event:t,draggedFrom:r}),pe=(t,r)=>({x:t,y:r}),Se=()=>({delay:300,delta:30});function Ba(t,r){if(1&t&&(n.j41(0,"span",7),n.EFF(1),n.k0s()),2&t){const e=n.XpG().day;n.R7$(),n.JRh(e.badgeTotal)}}function Ia(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",10),n.nI1(1,"calendarEventTitle"),n.nI1(2,"calendarA11y"),n.bIt("mouseenter",function(){const i=n.eBV(e).$implicit,o=n.XpG(2).highlightDay;return n.Njj(o.emit({event:i}))})("mouseleave",function(){const i=n.eBV(e).$implicit,o=n.XpG(2).unhighlightDay;return n.Njj(o.emit({event:i}))})("mwlClick",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2).eventClicked;return n.Njj(s.emit({event:o,sourceEvent:i}))}),n.k0s()}if(2&t){const e=r.$implicit,a=n.XpG(2),i=a.day,o=a.tooltipPlacement,s=a.tooltipTemplate,l=a.tooltipAppendToBody,c=a.tooltipDelay,d=a.validateDrag;n.AVh("cal-draggable",e.draggable),n.Y8G("ngStyle",n.eq3(22,nt,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",n.brH(1,15,e.title,"monthTooltip",e))("tooltipPlacement",o)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",l)("tooltipDelay",c)("dropData",n.l_i(24,Va,e,i))("dragAxis",n.l_i(27,pe,e.draggable,e.draggable))("validateDrag",d)("touchStartLongPress",n.lJ4(30,Se)),n.BMQ("aria-hidden",n.i5U(2,19,n.lJ4(31,ie),"hideMonthCellEvents"))}}function xa(t,r){if(1&t&&(n.j41(0,"div",8),n.DNE(1,Ia,3,32,"div",9),n.k0s()),2&t){const e=n.XpG(),a=e.day,i=e.trackByEventId;n.R7$(),n.Y8G("ngForOf",a.events)("ngForTrackBy",i)}}function Wa(t,r){if(1&t&&(n.j41(0,"div",2),n.nI1(1,"calendarA11y"),n.j41(2,"span",3),n.DNE(3,Ba,2,1,"span",4),n.j41(4,"span",5),n.EFF(5),n.nI1(6,"calendarDate"),n.k0s()()(),n.DNE(7,xa,2,2,"div",6)),2&t){const e=r.day,a=r.locale;n.BMQ("aria-label",n.i5U(1,4,n.l_i(11,Ra,e,a),"monthCell")),n.R7$(3),n.Y8G("ngIf",e.badgeTotal>0),n.R7$(2),n.JRh(n.brH(6,7,e.date,"monthViewDayNumber",a)),n.R7$(2),n.Y8G("ngIf",e.events.length>0)}}function za(t,r){}const Aa=(t,r,e,a,i)=>({events:t,eventClicked:r,isOpen:e,trackByEventId:a,validateDrag:i}),$t=(t,r)=>({date:t,locale:r}),Ya=t=>({event:t}),jt=(t,r)=>({event:t,locale:r});function $a(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",7),n.nrm(1,"span",8),n.EFF(2," "),n.j41(3,"mwl-calendar-event-title",9),n.nI1(4,"calendarA11y"),n.bIt("mwlClick",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2).eventClicked;return n.Njj(s.emit({event:o,sourceEvent:i}))})("mwlKeydownEnter",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2).eventClicked;return n.Njj(s.emit({event:o,sourceEvent:i}))}),n.k0s(),n.EFF(5," "),n.nrm(6,"mwl-calendar-event-actions",10),n.k0s()}if(2&t){const e=r.$implicit,a=n.XpG(2).validateDrag,i=n.XpG();n.AVh("cal-draggable",e.draggable),n.Y8G("ngClass",null==e?null:e.cssClass)("dropData",n.eq3(16,Ya,e))("dragAxis",n.l_i(18,pe,e.draggable,e.draggable))("validateDrag",a)("touchStartLongPress",n.lJ4(21,Se)),n.R7$(),n.Y8G("ngStyle",n.eq3(22,nt,null==e.color?null:e.color.primary)),n.R7$(2),n.Y8G("event",e)("customTemplate",i.eventTitleTemplate),n.BMQ("aria-label",n.i5U(4,13,n.l_i(24,jt,e,i.locale),"eventDescription")),n.R7$(3),n.Y8G("event",e)("customTemplate",i.eventActionsTemplate)}}function ja(t,r){if(1&t&&(n.j41(0,"div",3),n.nrm(1,"span",4),n.nI1(2,"calendarA11y"),n.nrm(3,"span",5),n.nI1(4,"calendarA11y"),n.DNE(5,$a,7,27,"div",6),n.k0s()),2&t){const e=n.XpG(),a=e.events,i=e.trackByEventId,o=n.XpG();n.Y8G("@collapse",void 0),n.R7$(),n.BMQ("aria-label",n.i5U(2,5,n.l_i(11,$t,o.date,o.locale),"openDayEventsAlert")),n.R7$(2),n.BMQ("aria-label",n.i5U(4,8,n.l_i(14,$t,o.date,o.locale),"openDayEventsLandmark")),n.R7$(2),n.Y8G("ngForOf",a)("ngForTrackBy",i)}}function Ga(t,r){1&t&&n.DNE(0,ja,6,17,"div",2),2&t&&n.Y8G("ngIf",r.isOpen)}function Na(t,r){}const La=(t,r,e)=>({days:t,locale:r,trackByWeekDayHeaderDate:e});function Xa(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",4),n.bIt("click",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2);return n.Njj(s.columnHeaderClicked.emit({isoDayNumber:o.day,sourceEvent:i}))}),n.EFF(1),n.nI1(2,"calendarDate"),n.k0s()}if(2&t){const e=r.$implicit,a=n.XpG().locale;n.AVh("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),n.Y8G("ngClass",e.cssClass),n.R7$(),n.SpI(" ",n.brH(2,10,e.date,"monthViewColumnHeader",a)," ")}}function Pa(t,r){if(1&t&&(n.j41(0,"div",2),n.DNE(1,Xa,3,14,"div",3),n.k0s()),2&t){const e=r.days,a=r.trackByWeekDayHeaderDate;n.R7$(),n.Y8G("ngForOf",e)("ngForTrackBy",a)}}function Ua(t,r){}function Ka(t,r){if(1&t){const e=n.RV6();n.j41(0,"mwl-calendar-month-cell",7),n.nI1(1,"calendarA11y"),n.bIt("mwlClick",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2);return n.Njj(s.dayClicked.emit({day:o,sourceEvent:i}))})("mwlKeydownEnter",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2);return n.Njj(s.dayClicked.emit({day:o,sourceEvent:i}))})("highlightDay",function(i){n.eBV(e);const o=n.XpG(2);return n.Njj(o.toggleDayHighlight(i.event,!0))})("unhighlightDay",function(i){n.eBV(e);const o=n.XpG(2);return n.Njj(o.toggleDayHighlight(i.event,!1))})("drop",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2);return n.Njj(s.eventDropped(o,i.dropData.event,i.dropData.draggedFrom))})("eventClicked",function(i){n.eBV(e);const o=n.XpG(2);return n.Njj(o.eventClicked.emit({event:i.event,sourceEvent:i.sourceEvent}))}),n.k0s()}if(2&t){const e=r.$implicit,a=n.XpG(2);n.Y8G("ngClass",null==e?null:e.cssClass)("day",e)("openDay",a.openDay)("locale",a.locale)("tooltipPlacement",a.tooltipPlacement)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipTemplate",a.tooltipTemplate)("tooltipDelay",a.tooltipDelay)("customTemplate",a.cellTemplate)("ngStyle",n.eq3(15,nt,e.backgroundColor))("clickListenerDisabled",0===a.dayClicked.observers.length),n.BMQ("tabindex",n.i5U(1,12,n.lJ4(17,ie),"monthCellTabIndex"))}}function Ja(t,r){if(1&t){const e=n.RV6();n.j41(0,"div")(1,"div",4),n.DNE(2,Ka,2,18,"mwl-calendar-month-cell",5),n.nI1(3,"slice"),n.k0s(),n.j41(4,"mwl-calendar-open-day-events",6),n.bIt("eventClicked",function(i){n.eBV(e);const o=n.XpG();return n.Njj(o.eventClicked.emit({event:i.event,sourceEvent:i.sourceEvent}))})("drop",function(i){n.eBV(e);const o=n.XpG();return n.Njj(o.eventDropped(o.openDay,i.dropData.event,i.dropData.draggedFrom))}),n.k0s()()}if(2&t){const e=r.$implicit,a=n.XpG();n.R7$(2),n.Y8G("ngForOf",n.brH(3,9,a.view.days,e,e+a.view.totalDaysVisibleInWeek))("ngForTrackBy",a.trackByDate),n.R7$(2),n.Y8G("locale",a.locale)("isOpen",a.openRowIndex===e)("events",null==a.openDay?null:a.openDay.events)("date",null==a.openDay?null:a.openDay.date)("customTemplate",a.openDayEventsTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)}}const Qa=(t,r,e,a,i,o)=>({days:t,locale:r,dayHeaderClicked:e,eventDropped:a,dragEnter:i,trackByWeekDayHeaderDate:o});function qa(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",4),n.bIt("mwlClick",function(i){const o=n.eBV(e).$implicit,s=n.XpG().dayHeaderClicked;return n.Njj(s.emit({day:o,sourceEvent:i}))})("drop",function(i){const o=n.eBV(e).$implicit,s=n.XpG().eventDropped;return n.Njj(s.emit({event:i.dropData.event,newStart:o.date}))})("dragEnter",function(){const i=n.eBV(e).$implicit,o=n.XpG().dragEnter;return n.Njj(o.emit({date:i.date}))}),n.j41(1,"b"),n.EFF(2),n.nI1(3,"calendarDate"),n.k0s(),n.nrm(4,"br"),n.j41(5,"span"),n.EFF(6),n.nI1(7,"calendarDate"),n.k0s()()}if(2&t){const e=r.$implicit,a=n.XpG().locale;n.AVh("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),n.Y8G("ngClass",e.cssClass),n.R7$(2),n.JRh(n.brH(3,11,e.date,"weekViewColumnHeader",a)),n.R7$(4),n.JRh(n.brH(7,15,e.date,"weekViewColumnSubHeader",a))}}function Za(t,r){if(1&t&&(n.j41(0,"div",2),n.DNE(1,qa,8,19,"div",3),n.k0s()),2&t){const e=r.days,a=r.trackByWeekDayHeaderDate;n.R7$(),n.Y8G("ngForOf",e)("ngForTrackBy",a)}}function er(t,r){}const tr=(t,r,e,a,i,o,s,l,c)=>({weekEvent:t,tooltipPlacement:r,eventClicked:e,tooltipTemplate:a,tooltipAppendToBody:i,tooltipDisabled:o,tooltipDelay:s,column:l,daysInWeek:c}),nr=(t,r,e)=>({color:t,backgroundColor:r,borderColor:e});function ar(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",2),n.nI1(1,"calendarEventTitle"),n.nI1(2,"calendarA11y"),n.bIt("mwlClick",function(i){const o=n.eBV(e).eventClicked;return n.Njj(o.emit({sourceEvent:i}))})("mwlKeydownEnter",function(i){const o=n.eBV(e).eventClicked;return n.Njj(o.emit({sourceEvent:i}))}),n.nrm(3,"mwl-calendar-event-actions",3),n.EFF(4," "),n.nrm(5,"mwl-calendar-event-title",4),n.k0s()}if(2&t){const e=r.weekEvent,a=r.tooltipPlacement,i=r.tooltipTemplate,o=r.tooltipAppendToBody,s=r.tooltipDisabled,l=r.tooltipDelay,c=r.daysInWeek,d=n.XpG();n.Y8G("ngStyle",n.sMw(20,nr,null==e.event.color?null:e.event.color.secondaryText,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",s?"":n.brH(1,13,e.event.title,1===c?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",a)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",i)("tooltipAppendToBody",o)("tooltipDelay",l),n.BMQ("aria-label",n.i5U(2,17,n.l_i(24,jt,e.tempEvent||e.event,d.locale),"eventDescription")),n.R7$(3),n.Y8G("event",e.tempEvent||e.event)("customTemplate",d.eventActionsTemplate),n.R7$(2),n.Y8G("event",e.tempEvent||e.event)("customTemplate",d.eventTitleTemplate)("view",1===c?"day":"week")}}function rr(t,r){}const ir=(t,r,e,a,i)=>({segment:t,locale:r,segmentHeight:e,isTimeLabel:a,daysInWeek:i});function or(t,r){if(1&t&&(n.j41(0,"div",4),n.EFF(1),n.nI1(2,"calendarDate"),n.k0s()),2&t){const e=n.XpG(),a=e.segment,i=e.locale,o=e.daysInWeek;n.R7$(),n.SpI(" ",n.brH(2,1,a.displayDate,1===o?"dayViewHour":"weekViewHour",i)," ")}}function sr(t,r){if(1&t&&(n.j41(0,"div",2),n.nI1(1,"calendarA11y"),n.DNE(2,or,3,5,"div",3),n.k0s()),2&t){const e=r.segment,i=r.isTimeLabel,o=r.daysInWeek;n.xc7("height",r.segmentHeight,"px"),n.AVh("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),n.Y8G("ngClass",e.cssClass),n.BMQ("aria-hidden",n.i5U(1,9,n.lJ4(12,ie),1===o?"hideDayHourSegment":"hideWeekHourSegment")),n.R7$(2),n.Y8G("ngIf",i)}}function lr(t,r){}const dr=(t,r,e,a,i,o,s)=>({columnDate:t,dayStartHour:r,dayStartMinute:e,dayEndHour:a,dayEndMinute:i,isVisible:o,topPx:s});function cr(t,r){if(1&t&&n.nrm(0,"div",3),2&t){const e=n.XpG().topPx;n.xc7("top",e,"px")}}function ur(t,r){1&t&&n.DNE(0,cr,1,2,"div",2),2&t&&n.Y8G("ngIf",r.isVisible)}function mr(t,r){}const pr=(t,r)=>({left:t,right:r}),Gt=(t,r)=>({event:t,calendarId:r}),hr=t=>({x:t}),vr=()=>({left:!0}),fr=()=>({right:!0}),gr=(t,r,e,a)=>({left:t,right:r,top:e,bottom:a}),yr=()=>({left:!0,top:!0}),wr=()=>({right:!0,bottom:!0});function Dr(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",16),n.bIt("drop",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2);return n.Njj(s.eventDropped(i,o.date,!0))})("dragEnter",function(){const i=n.eBV(e).$implicit,o=n.XpG(2);return n.Njj(o.dateDragEnter(i.date))}),n.k0s()}}function Cr(t,r){1&t&&n.nrm(0,"div",23),2&t&&n.Y8G("resizeEdges",n.lJ4(1,vr))}function _r(t,r){1&t&&n.nrm(0,"div",24),2&t&&n.Y8G("resizeEdges",n.lJ4(1,fr))}function Tr(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",19,3),n.bIt("resizeStart",function(i){const o=n.eBV(e).$implicit;n.XpG();const s=n.sdS(1),l=n.XpG(2);return n.Njj(l.allDayEventResizeStarted(s,o,i))})("resizing",function(i){const o=n.eBV(e).$implicit,s=n.XpG(3);return n.Njj(s.allDayEventResizing(o,i,s.dayColumnWidth))})("resizeEnd",function(){const i=n.eBV(e).$implicit,o=n.XpG(3);return n.Njj(o.allDayEventResizeEnded(i))})("dragStart",function(){const i=n.eBV(e).$implicit,o=n.sdS(1);n.XpG();const s=n.sdS(1),l=n.XpG(2);return n.Njj(l.dragStarted(s,o,i,!1))})("dragging",function(){n.eBV(e);const i=n.XpG(3);return n.Njj(i.allDayEventDragMove())})("dragEnd",function(i){const o=n.eBV(e).$implicit,s=n.XpG(3);return n.Njj(s.dragEnded(o,i,s.dayColumnWidth))}),n.DNE(2,Cr,1,2,"div",20),n.j41(3,"mwl-calendar-week-view-event",21),n.bIt("eventClicked",function(i){const o=n.eBV(e).$implicit,s=n.XpG(3);return n.Njj(s.eventClicked.emit({event:o.event,sourceEvent:i.sourceEvent}))}),n.k0s(),n.DNE(4,_r,1,2,"div",22),n.k0s()}if(2&t){const e=r.$implicit,a=n.XpG(3);n.xc7("width",100/a.days.length*e.span,"%")("margin-left",a.rtl?null:100/a.days.length*e.offset,"%")("margin-right",a.rtl?100/a.days.length*e.offset:null,"%"),n.AVh("cal-draggable",e.event.draggable&&0===a.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),n.Y8G("ngClass",null==e.event?null:e.event.cssClass)("resizeCursors",a.resizeCursors)("resizeSnapGrid",n.l_i(33,pr,a.dayColumnWidth,a.dayColumnWidth))("validateResize",a.validateResize)("dropData",n.l_i(36,Gt,e.event,a.calendarId))("dragAxis",n.l_i(39,pe,e.event.draggable&&0===a.allDayEventResizes.size,!a.snapDraggedEvents&&e.event.draggable&&0===a.allDayEventResizes.size))("dragSnapGrid",a.snapDraggedEvents?n.eq3(42,hr,a.dayColumnWidth):n.lJ4(44,ie))("validateDrag",a.validateDrag)("touchStartLongPress",n.lJ4(45,Se)),n.R7$(2),n.Y8G("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),n.R7$(),n.Y8G("locale",a.locale)("weekEvent",e)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDelay",a.tooltipDelay)("customTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("daysInWeek",a.daysInWeek),n.R7$(),n.Y8G("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function Er(t,r){if(1&t&&(n.j41(0,"div",17,2),n.DNE(2,Tr,5,46,"div",18),n.k0s()),2&t){const e=r.$implicit,a=n.XpG(2);n.R7$(2),n.Y8G("ngForOf",e.row)("ngForTrackBy",a.trackByWeekAllDayEvent)}}function kr(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",12,1),n.bIt("dragEnter",function(){n.eBV(e);const i=n.XpG();return n.Njj(i.dragEnter("allDay"))})("dragLeave",function(){n.eBV(e);const i=n.XpG();return n.Njj(i.dragLeave("allDay"))}),n.j41(2,"div",10),n.nrm(3,"div",13),n.DNE(4,Dr,1,0,"div",14),n.k0s(),n.DNE(5,Er,3,2,"div",15),n.k0s()}if(2&t){const e=n.XpG();n.R7$(3),n.Y8G("ngTemplateOutlet",e.allDayEventsLabelTemplate),n.R7$(),n.Y8G("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),n.R7$(),n.Y8G("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function Sr(t,r){if(1&t&&n.nrm(0,"mwl-calendar-week-view-hour-segment",29),2&t){const e=r.$implicit,a=n.XpG(3);n.xc7("height",a.hourSegmentHeight,"px"),n.Y8G("segment",e)("segmentHeight",a.hourSegmentHeight)("locale",a.locale)("customTemplate",a.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",a.daysInWeek)}}function br(t,r){if(1&t&&(n.j41(0,"div",27),n.DNE(1,Sr,1,8,"mwl-calendar-week-view-hour-segment",28),n.k0s()),2&t){const e=r.$implicit,a=r.odd,i=n.XpG(2);n.AVh("cal-hour-odd",a),n.R7$(),n.Y8G("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function Mr(t,r){if(1&t&&(n.j41(0,"div",25),n.DNE(1,br,2,4,"div",26),n.k0s()),2&t){const e=n.XpG();n.R7$(),n.Y8G("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}function Or(t,r){1&t&&n.nrm(0,"div",23),2&t&&n.Y8G("resizeEdges",n.lJ4(1,yr))}function Hr(t,r){}function Fr(t,r){if(1&t){const e=n.RV6();n.j41(0,"mwl-calendar-week-view-event",36),n.bIt("eventClicked",function(i){n.eBV(e);const o=n.XpG().$implicit,s=n.XpG(2);return n.Njj(s.eventClicked.emit({event:o.event,sourceEvent:i.sourceEvent}))}),n.k0s()}if(2&t){const e=n.XpG().$implicit,a=n.XpG().$implicit,i=n.XpG();n.Y8G("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDisabled",i.dragActive||i.timeEventResizes.size>0)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("column",a)("daysInWeek",i.daysInWeek)}}function Rr(t,r){1&t&&n.nrm(0,"div",24),2&t&&n.Y8G("resizeEdges",n.lJ4(1,wr))}function Vr(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",34,3),n.bIt("resizeStart",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2),l=n.sdS(6);return n.Njj(s.timeEventResizeStarted(l,o,i))})("resizing",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2);return n.Njj(s.timeEventResizing(o,i))})("resizeEnd",function(){const i=n.eBV(e).$implicit,o=n.XpG(2);return n.Njj(o.timeEventResizeEnded(i))})("dragStart",function(){const i=n.eBV(e).$implicit,o=n.sdS(1),s=n.XpG(2),l=n.sdS(6);return n.Njj(s.dragStarted(l,o,i,!0))})("dragging",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2);return n.Njj(s.dragMove(o,i))})("dragEnd",function(i){const o=n.eBV(e).$implicit,s=n.XpG(2);return n.Njj(s.dragEnded(o,i,s.dayColumnWidth,!0))}),n.DNE(2,Or,1,2,"div",20)(3,Hr,0,0,"ng-template",35)(4,Fr,1,12,"ng-template",null,4,n.C5r)(6,Rr,1,2,"div",22),n.k0s()}if(2&t){const e=r.$implicit,a=n.sdS(5),i=n.XpG(2);n.xc7("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),n.AVh("cal-draggable",e.event.draggable&&0===i.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),n.Y8G("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeCursors",i.resizeCursors)("resizeSnapGrid",n.ziG(30,gr,i.dayColumnWidth,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight,i.eventSnapSize||i.hourSegmentHeight))("validateResize",i.validateResize)("allowNegativeResizes",!0)("dropData",n.l_i(35,Gt,e.event,i.calendarId))("dragAxis",n.l_i(38,pe,e.event.draggable&&0===i.timeEventResizes.size,e.event.draggable&&0===i.timeEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?n.l_i(41,pe,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight):n.lJ4(44,ie))("touchStartLongPress",n.lJ4(45,Se))("ghostDragEnabled",!i.snapDraggedEvents)("ghostElementTemplate",a)("validateDrag",i.validateDrag),n.R7$(2),n.Y8G("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),n.R7$(),n.Y8G("ngTemplateOutlet",a),n.R7$(3),n.Y8G("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function Br(t,r){if(1&t){const e=n.RV6();n.j41(0,"mwl-calendar-week-view-hour-segment",38),n.bIt("mwlClick",function(i){const o=n.eBV(e).$implicit,s=n.XpG(3);return n.Njj(s.hourSegmentClicked.emit({date:o.date,sourceEvent:i}))})("drop",function(i){const o=n.eBV(e).$implicit,s=n.XpG(3);return n.Njj(s.eventDropped(i,o.date,!1))})("dragEnter",function(){const i=n.eBV(e).$implicit,o=n.XpG(3);return n.Njj(o.dateDragEnter(i.date))}),n.k0s()}if(2&t){const e=r.$implicit,a=n.XpG(3);n.xc7("height",a.hourSegmentHeight,"px"),n.Y8G("segment",e)("segmentHeight",a.hourSegmentHeight)("locale",a.locale)("customTemplate",a.hourSegmentTemplate)("daysInWeek",a.daysInWeek)("clickListenerDisabled",0===a.hourSegmentClicked.observers.length)("dragOverClass",a.dragActive&&a.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===a.daysInWeek)}}function Ir(t,r){if(1&t&&(n.j41(0,"div",27),n.DNE(1,Br,1,10,"mwl-calendar-week-view-hour-segment",37),n.k0s()),2&t){const e=r.$implicit,a=r.odd,i=n.XpG(2);n.AVh("cal-hour-odd",a),n.R7$(),n.Y8G("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function xr(t,r){if(1&t&&(n.j41(0,"div",30),n.nrm(1,"mwl-calendar-week-view-current-time-marker",31),n.j41(2,"div",32),n.DNE(3,Vr,7,46,"div",33),n.k0s(),n.DNE(4,Ir,2,4,"div",26),n.k0s()),2&t){const e=r.$implicit,a=n.XpG();n.R7$(),n.Y8G("columnDate",e.date)("dayStartHour",a.dayStartHour)("dayStartMinute",a.dayStartMinute)("dayEndHour",a.dayEndHour)("dayEndMinute",a.dayEndMinute)("hourSegments",a.hourSegments)("hourDuration",a.hourDuration)("hourSegmentHeight",a.hourSegmentHeight)("customTemplate",a.currentTimeMarkerTemplate),n.R7$(2),n.Y8G("ngForOf",e.events)("ngForTrackBy",a.trackByWeekTimeEvent),n.R7$(),n.Y8G("ngForOf",e.hours)("ngForTrackBy",a.trackByHour)}}let K=(()=>{class t{constructor(e,a,i){this.renderer=e,this.elm=a,this.document=i,this.clickListenerDisabled=!1,this.click=new n.bkB,this.destroy$=new A.B}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,P.Q)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new le.c(e=>this.renderer.listen(this.elm.nativeElement,"click",a=>{e.next(a)}))}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.sFG),n.rXU(n.aKT),n.rXU(v.qQ))},t.\u0275dir=n.FsC({type:t,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),t})(),be=(()=>{class t{constructor(e,a,i){this.host=e,this.ngZone=a,this.renderer=i,this.keydown=new n.bkB,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.aKT),n.rXU(n.SKi),n.rXU(n.sFG))},t.\u0275dir=n.FsC({type:t,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),t})(),Me=(()=>{class t{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:a}){return e.badgeTotal>0?`\n        ${(0,v.Yq)(e.date,"EEEE MMMM d",a)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,v.Yq)(e.date,"EEEE MMMM d",a)}`}openDayEventsLandmark({date:e,locale:a}){return`\n      Beginning of expanded view for ${(0,v.Yq)(e,"EEEE MMMM dd",a)}\n    `}openDayEventsAlert({date:e,locale:a}){return`${(0,v.Yq)(e,"EEEE MMMM dd",a)} expanded`}eventDescription({event:e,locale:a}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:a});const i=`\n      ${(0,v.Yq)(e.start,"EEEE MMMM dd",a)},\n      ${e.title}, from ${(0,v.Yq)(e.start,"hh:mm a",a)}\n    `;return e.end?i+` to ${(0,v.Yq)(e.end,"hh:mm a",a)}`:i}allDayEventDescription({event:e,locale:a}){const i=`\n      ${e.title}, event spans multiple days:\n      start time ${(0,v.Yq)(e.start,"MMMM dd hh:mm a",a)}\n    `;return e.end?i+`, stop time ${(0,v.Yq)(e.end,"MMMM d hh:mm a",a)}`:i+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(e){return new(e||t)(n.KVO(v.jo))},t.\u0275prov=n.jDH({token:t,factory:t.\u0275fac}),t})(),ee=(()=>{class t{constructor(e,a){this.calendarA11y=e,this.locale=a}transform(e,a){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[a]>"u"){const i=Object.getOwnPropertyNames(Object.getPrototypeOf(Me.prototype)).filter(o=>"constructor"!==o);throw new Error(`${a} is not a valid a11y method. Can only be one of ${i.join(", ")}`)}return this.calendarA11y[a](e)}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(Me,16),n.rXU(n.xe9,16))},t.\u0275pipe=n.EJ8({name:"calendarA11y",type:t,pure:!0}),t})(),Nt=(()=>{class t{constructor(){this.trackByActionId=(e,a)=>a.id?a.id:a}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"mwlClick","mwlKeydownEnter","ngClass","innerHtml"]],template:function(e,a){if(1&e&&n.DNE(0,Ta,1,1,"ng-template",null,0,n.C5r)(2,Ea,0,0,"ng-template",1),2&e){const i=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||i)("ngTemplateOutletContext",n.l_i(2,wa,a.event,a.trackByActionId))}},dependencies:[v.YU,v.Sq,v.bT,v.T3,K,be,ee],encapsulation:2}),t})();class at{month(r,e){return r.title}monthTooltip(r,e){return r.title}week(r,e){return r.title}weekTooltip(r,e){return r.title}day(r,e){return r.title}dayTooltip(r,e){return r.title}}let rt=(()=>{class t{constructor(e){this.calendarEventTitle=e}transform(e,a,i){return this.calendarEventTitle[a](i,e)}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(at,16))},t.\u0275pipe=n.EJ8({name:"calendarEventTitle",type:t,pure:!0}),t})(),Lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,a){if(1&e&&n.DNE(0,Sa,3,10,"ng-template",null,0,n.C5r)(2,ba,0,0,"ng-template",1),2&e){const i=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||i)("ngTemplateOutletContext",n.l_i(2,ka,a.event,a.view))}},dependencies:[v.T3,rt,ee],encapsulation:2}),t})(),Wr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,a){if(1&e&&n.DNE(0,Oa,3,2,"ng-template",null,0,n.C5r)(2,Ha,0,0,"ng-template",1),2&e){const i=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||i)("ngTemplateOutletContext",n.sMw(2,Ma,a.contents,a.placement,a.event))}},dependencies:[v.YU,v.T3],encapsulation:2}),t})(),Xt=(()=>{class t{constructor(e,a,i,o,s,l){this.elementRef=e,this.injector=a,this.renderer=i,this.viewContainerRef=s,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new A.B,this.tooltipFactory=o.resolveComponentFactory(Wr)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,En.of)("now"):(0,kn.O)(this.delay)).pipe((0,P.Q)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function Rn(t,r,e,a,i){var o=Array.isArray(e)?e:e.split(Fn),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=r.classList,c=function(w){var C=w.split("-"),T=C[0],_=C[1],b=[];return i&&(b.push(i+"-"+T),_&&b.push(i+"-"+T+"-"+_),b.forEach(function(H){l.add(H)})),b};i&&s.forEach(function(w){l.remove(i+"-"+w)});var d=o.findIndex(function(w){return"auto"===w});d>=0&&s.forEach(function(w){null==o.find(function(C){return-1!==C.search("^"+w)})&&o.splice(d++,1,w)});var u=r.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";for(var p,h=!1,m=0,g=o;m<g.length;m++){var D=c(p=g[m]);if(Dt.positionElements(t,r,p,a)){h=!0;break}i&&D.forEach(function(w){l.remove(w)})}return h||(c(p=o[0]),Dt.positionElements(t,r,p,a)),p}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.aKT),n.rXU(n.zZn),n.rXU(n.sFG),n.rXU(n.OM3),n.rXU(n.c1b),n.rXU(v.qQ))},t.\u0275dir=n.FsC({type:t,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,a){1&e&&n.bIt("mouseenter",function(){return a.onMouseOver()})("mouseleave",function(){return a.onMouseOut()})},inputs:{contents:[n.Mj6.None,"mwlCalendarTooltip","contents"],placement:[n.Mj6.None,"tooltipPlacement","placement"],customTemplate:[n.Mj6.None,"tooltipTemplate","customTemplate"],event:[n.Mj6.None,"tooltipEvent","event"],appendToBody:[n.Mj6.None,"tooltipAppendToBody","appendToBody"],delay:[n.Mj6.None,"tooltipDelay","delay"]},features:[n.OA$]}),t})();const Pt=t=>function Ln(t,r){var e=!0;function a(i,o){r(i,o),e=!1}return Array.isArray(t)?(t.forEach(function(i){i.start?i.start instanceof Date||a(ne.StartPropertyNotDate,i):a(ne.StartPropertyMissing,i),i.end&&(i.end instanceof Date||a(ne.EndPropertyNotDate,i),i.start>i.end&&a(ne.EndsBeforeStart,i))}),e):(r(ne.NotArray,t),!1)}(t,(...e)=>console.warn("angular-calendar",...e));function Ut(t,r){return Math.floor(t.left)<=Math.ceil(r.left)&&Math.floor(r.left)<=Math.ceil(t.right)&&Math.floor(t.left)<=Math.ceil(r.right)&&Math.floor(r.right)<=Math.ceil(t.right)}function Kt(t,r){return Math.round(t/r)*r}const Jt=(t,r)=>r.id?r.id:r,it=(t,r)=>r.date.toISOString(),$r=(t,r)=>r.date.toISOString(),jr=(t,r)=>r.segments[0].date.toISOString(),Gr=(t,r)=>r.event.id?r.event.id:r.event,Nr=(t,r)=>r.event.id?r.event.id:r.event;function ot(t,r,e,a,i){const o=Kt(t,a||e),s=function Xr(t,r,e){return(e||60)/(t*r)}(r,e,i);return o*s}function Qt(t,r,e){return r.end?r.end:t.addMinutes(r.start,e)}function te(t,r,e,a){let i=0,o=0;const s=e<0?t.subDays:t.addDays;let l=r;for(;o<=Math.abs(e);){l=s(r,i);const c=t.getDay(l);-1===a.indexOf(c)&&o++,i++}return l}function st(t,r,e,a=[],i){let o=i?t.startOfDay(r):t.startOfWeek(r,{weekStartsOn:e});const s=t.endOfWeek(r,{weekStartsOn:e});for(;a.indexOf(t.getDay(o))>-1&&o<s;)o=t.addDays(o,1);if(i)return{viewStart:o,viewEnd:t.endOfDay(te(t,o,i-1,a))};{let l=s;for(;a.indexOf(t.getDay(l))>-1&&l>o;)l=t.subDays(l,1);return{viewStart:o,viewEnd:l}}}function lt({x:t,y:r}){return Math.abs(t)>1||Math.abs(r)>1}class oe{}let Kr=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:a}){return(0,v.Yq)(e,"EEEE",a)}monthViewDayNumber({date:e,locale:a}){return(0,v.Yq)(e,"d",a)}monthViewTitle({date:e,locale:a}){return(0,v.Yq)(e,"LLLL y",a)}weekViewColumnHeader({date:e,locale:a}){return(0,v.Yq)(e,"EEEE",a)}weekViewColumnSubHeader({date:e,locale:a}){return(0,v.Yq)(e,"MMM d",a)}weekViewTitle({date:e,locale:a,weekStartsOn:i,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:c}=st(this.dateAdapter,e,i,o,s),d=(u,p)=>(0,v.Yq)(u,"MMM d"+(p?", yyyy":""),a);return`${d(l,l.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:e,locale:a}){return(0,v.Yq)(e,"h a",a)}dayViewHour({date:e,locale:a}){return(0,v.Yq)(e,"h a",a)}dayViewTitle({date:e,locale:a}){return(0,v.Yq)(e,"EEEE, MMMM d, y",a)}}return t.\u0275fac=function(e){return new(e||t)(n.KVO(oe))},t.\u0275prov=n.jDH({token:t,factory:t.\u0275fac}),t})(),Oe=(()=>{class t extends Kr{}return t.\u0275fac=(()=>{let r;return function(a){return(r||(r=n.xGo(t)))(a||t)}})(),t.\u0275prov=n.jDH({token:t,factory:t.\u0275fac}),t})(),He=(()=>{class t{constructor(e,a){this.dateFormatter=e,this.locale=a}transform(e,a,i=this.locale,o=0,s=[],l){if(typeof this.dateFormatter[a]>"u"){const c=Object.getOwnPropertyNames(Object.getPrototypeOf(Oe.prototype)).filter(d=>"constructor"!==d);throw new Error(`${a} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[a]({date:e,locale:i,weekStartsOn:o,excludeDays:s,daysInWeek:l})}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(Oe,16),n.rXU(n.xe9,16))},t.\u0275pipe=n.EJ8({name:"calendarDate",type:t,pure:!0}),t})(),Fe=(()=>{class t{constructor(e){this.dateAdapter=e}getMonthView(e){return function jn(t,r){var e=r.events,a=void 0===e?[]:e,i=r.viewDate,o=r.weekStartsOn,s=r.excluded,l=void 0===s?[]:s,c=r.viewStart,d=void 0===c?t.startOfMonth(i):c,u=r.viewEnd,p=void 0===u?t.endOfMonth(i):u,h=r.weekendDays;a||(a=[]);for(var S,g=t.endOfWeek,D=t.differenceInDays,w=t.startOfDay,C=t.addHours,T=t.endOfDay,_=t.isSameMonth,b=t.getDay,H=(0,t.startOfWeek)(d,{weekStartsOn:o}),V=g(p,{weekStartsOn:o}),x=de(t,{events:a,periodStart:H,periodEnd:V}),O=[],M=function(pt){var W;if(S?(W=w(C(S,24)),S.getTime()===W.getTime()&&(W=w(C(S,25))),S=W):W=S=H,!l.some(function(ht){return b(W)===ht})){var se=_t(t,{date:W,weekendDays:h}),j=de(t,{events:x,periodStart:w(W),periodEnd:T(W)});se.inMonth=_(W,i),se.events=j,se.badgeTotal=j.length,O.push(se)}},y=0;y<D(V,H)+1;y++)M();var f=[],B=Ae-l.length;if(B<Ae)for(y=0;y<O.length;y+=B){var R=O.slice(y,y+B);R.some(function(W){return d<=W.date&&W.date<p})&&(f=We(We([],f,!0),R,!0))}else f=O;var mt=Math.floor(f.length/B),Ve=[];for(y=0;y<mt;y++)Ve.push(y*B);return{rowOffsets:Ve,totalDaysVisibleInWeek:B,days:f,period:{start:f[0].date,end:T(f[f.length-1].date),events:x}}}(this.dateAdapter,e)}getWeekViewHeader(e){return $e(this.dateAdapter,e)}getWeekView(e){return function $n(t,r){var e=r.events,a=void 0===e?[]:e,i=r.viewDate,o=r.weekStartsOn,s=r.excluded,l=void 0===s?[]:s,c=r.precision,d=void 0===c?"days":c,u=r.absolutePositionedEvents,p=void 0!==u&&u,h=r.hourSegments,m=r.hourDuration,g=r.dayStart,D=r.dayEnd,w=r.weekendDays,C=r.segmentHeight,T=r.minimumEventHeight,_=r.viewStart,b=void 0===_?t.startOfWeek(i,{weekStartsOn:o}):_,H=r.viewEnd,V=void 0===H?t.endOfWeek(i,{weekStartsOn:o}):H;a||(a=[]);var O=t.endOfDay,S=de(t,{events:a,periodStart:b=(0,t.startOfDay)(b),periodEnd:V=O(V)}),M=$e(t,{viewDate:i,weekStartsOn:o,excluded:l,weekendDays:w,viewStart:b,viewEnd:V});return{allDayEventRows:An(t,{events:S,excluded:l,precision:d,absolutePositionedEvents:p,viewStart:b,viewEnd:V}),period:{events:S,start:M[0].date,end:O(M[M.length-1].date)},hourColumns:Yn(t,{events:a,viewDate:i,hourSegments:h,hourDuration:m,dayStart:g,dayEnd:D,weekStartsOn:o,excluded:l,weekendDays:w,segmentHeight:C,viewStart:b,viewEnd:V,minimumEventHeight:T})}}(this.dateAdapter,e)}}return t.\u0275fac=function(e){return new(e||t)(n.KVO(oe))},t.\u0275prov=n.jDH({token:t,factory:t.\u0275fac}),t})();new n.nKC("Moment");var J=function(t){return t.Drag="drag",t.Drop="drop",t.Resize="resize",t}(J||{});let he=(()=>{class t{static forRoot(e,a={}){return{ngModule:t,providers:[e,a.eventTitleFormatter||at,a.dateFormatter||Oe,a.utils||Fe,a.a11y||Me]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({providers:[v.jo],imports:[v.MD]}),t})(),Jr=(()=>{class t{constructor(){this.highlightDay=new n.bkB,this.unhighlightDay=new n.bkB,this.eventClicked=new n.bkB,this.trackByEventId=Jt,this.validateDrag=lt}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,a){2&e&&n.AVh("cal-past",a.day.isPast)("cal-today",a.day.isToday)("cal-future",a.day.isFuture)("cal-weekend",a.day.isWeekend)("cal-in-month",a.day.inMonth)("cal-out-month",!a.day.inMonth)("cal-has-events",a.day.events.length>0)("cal-open",a.day===a.openDay)("cal-event-highlight",!!a.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"mouseenter","mouseleave","mwlClick","ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress"]],template:function(e,a){if(1&e&&n.DNE(0,Wa,8,14,"ng-template",null,0,n.C5r)(2,za,0,0,"ng-template",1),2&e){const i=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||i)("ngTemplateOutletContext",n.zJS(2,Fa,[a.day,a.openDay,a.locale,a.tooltipPlacement,a.highlightDay,a.unhighlightDay,a.eventClicked,a.tooltipTemplate,a.tooltipAppendToBody,a.tooltipDelay,a.trackByEventId,a.validateDrag]))}},dependencies:[v.YU,v.Sq,v.bT,v.T3,v.B3,tt,Xt,K,He,rt,ee],encapsulation:2}),t})();const Qr=(0,L.hZ)("collapse",[(0,L.wk)("void",(0,L.iF)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,L.wk)("*",(0,L.iF)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,L.kY)("* => void",(0,L.i0)("150ms ease-out")),(0,L.kY)("void => *",(0,L.i0)("150ms ease-in"))]);let qr=(()=>{class t{constructor(){this.isOpen=!1,this.eventClicked=new n.bkB,this.trackByEventId=Jt,this.validateDrag=lt}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"mwlClick","mwlKeydownEnter","event","customTemplate"],[3,"event","customTemplate"]],template:function(e,a){if(1&e&&n.DNE(0,Ga,1,1,"ng-template",null,0,n.C5r)(2,Na,0,0,"ng-template",1),2&e){const i=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||i)("ngTemplateOutletContext",n.s1E(2,Aa,a.events,a.eventClicked,a.isOpen,a.trackByEventId,a.validateDrag))}},dependencies:[v.YU,v.Sq,v.bT,v.T3,v.B3,tt,Nt,Lt,K,be,ee],encapsulation:2,data:{animation:[Qr]}}),t})(),Zr=(()=>{class t{constructor(){this.columnHeaderClicked=new n.bkB,this.trackByWeekDayHeaderDate=it}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"click","ngClass"]],template:function(e,a){if(1&e&&n.DNE(0,Pa,2,2,"ng-template",null,0,n.C5r)(2,Ua,0,0,"ng-template",1),2&e){const i=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||i)("ngTemplateOutletContext",n.sMw(2,La,a.days,a.locale,a.trackByWeekDayHeaderDate))}},dependencies:[v.YU,v.Sq,v.T3,He],encapsulation:2}),t})(),ei=(()=>{class t{constructor(e,a,i,o){this.cdr=e,this.utils=a,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new n.bkB,this.dayClicked=new n.bkB,this.eventClicked=new n.bkB,this.columnHeaderClicked=new n.bkB,this.eventTimesChanged=new n.bkB,this.trackByRowOffset=(s,l)=>this.view.days.slice(l,this.view.totalDaysVisibleInWeek).map(c=>c.date.toISOString()).join("-"),this.trackByDate=(s,l)=>l.date.toISOString(),this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const a=e.viewDate||e.excludeDays||e.weekendDays,i=e.viewDate||e.events||e.excludeDays||e.weekendDays;a&&this.refreshHeader(),e.events&&Pt(this.events),i&&this.refreshBody(),(a||i)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,a){this.view.days.forEach(i=>{a&&i.events.indexOf(e)>-1?i.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete i.backgroundColor})}eventDropped(e,a,i){if(e!==i){const o=this.dateAdapter.getYear(e.date),s=this.dateAdapter.getMonth(e.date),l=this.dateAdapter.getDate(e.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(a.start,o),s),l);let d;if(a.end){const u=this.dateAdapter.differenceInSeconds(c,a.start);d=this.dateAdapter.addSeconds(a.end,u)}this.eventTimesChanged.emit({event:a,newStart:c,newEnd:d,day:e,type:J.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(i=>this.dateAdapter.isSameDay(i.date,e));const a=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(a/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.gRc),n.rXU(Fe),n.rXU(n.xe9),n.rXU(oe))},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[n.OA$],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"columnHeaderClicked","days","locale","customTemplate"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"eventClicked","drop","locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked","ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled"]],template:function(e,a){1&e&&(n.j41(0,"div",0)(1,"mwl-calendar-month-view-header",1),n.bIt("columnHeaderClicked",function(o){return a.columnHeaderClicked.emit(o)}),n.k0s(),n.j41(2,"div",2),n.DNE(3,Ja,5,13,"div",3),n.k0s()()),2&e&&(n.R7$(),n.Y8G("days",a.columnHeaders)("locale",a.locale)("customTemplate",a.headerTemplate),n.R7$(2),n.Y8G("ngForOf",a.view.rowOffsets)("ngForTrackBy",a.trackByRowOffset))},dependencies:[v.YU,v.Sq,v.B3,Te,K,be,Jr,qr,Zr,v.P9,ee],encapsulation:2}),t})(),qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[v.MD,Ee,he,Ee]}),t})();class ti{constructor(r,e){this.dragContainerElement=r,this.startPosition=e.getBoundingClientRect()}validateDrag({x:r,y:e,snapDraggedEvents:a,dragAlreadyMoved:i,transform:o}){const s=lt({x:r,y:e})||i;if(a){const l=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(s){const c=this.dragContainerElement.getBoundingClientRect(),d=c.top<l.top&&l.top<c.bottom,u=c.top<l.bottom&&l.bottom<c.bottom;return Ut(c,l)&&(d||u)}return!1}return s}}class ni{constructor(r,e,a){this.resizeContainerElement=r,this.minWidth=e,this.rtl=a}validateResize({rectangle:r,edges:e}){return this.rtl&&(typeof e.left<"u"?(r.left-=e.left,r.right+=e.left):typeof e.right<"u"&&(r.left+=e.right,r.right-=e.right),r.width=r.right-r.left),!(this.minWidth&&Math.ceil(r.width)<Math.ceil(this.minWidth))&&function Yr(t,r){return Ut(t,r)&&function Ar(t,r){return Math.floor(t.top)<=Math.ceil(r.top)&&Math.floor(r.top)<=Math.ceil(t.bottom)&&Math.floor(t.top)<=Math.ceil(r.bottom)&&Math.floor(r.bottom)<=Math.ceil(t.bottom)}(t,r)}(this.resizeContainerElement.getBoundingClientRect(),r)}}let ai=(()=>{class t{constructor(){this.dayHeaderClicked=new n.bkB,this.eventDropped=new n.bkB,this.dragEnter=new n.bkB,this.trackByWeekDayHeaderDate=it}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"mwlClick","drop","dragEnter","ngClass"]],template:function(e,a){if(1&e&&n.DNE(0,Za,2,2,"ng-template",null,0,n.C5r)(2,er,0,0,"ng-template",1),2&e){const i=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||i)("ngTemplateOutletContext",n.l4e(2,Qa,a.days,a.locale,a.dayHeaderClicked,a.eventDropped,a.dragEnter,a.trackByWeekDayHeaderDate))}},dependencies:[v.YU,v.Sq,v.T3,Te,K,He],encapsulation:2}),t})(),ri=(()=>{class t{constructor(){this.eventClicked=new n.bkB}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"mwlClick","mwlKeydownEnter","ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,a){if(1&e&&n.DNE(0,ar,6,27,"ng-template",null,0,n.C5r)(2,rr,0,0,"ng-template",1),2&e){const i=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||i)("ngTemplateOutletContext",n.zJS(2,tr,[a.weekEvent,a.tooltipPlacement,a.eventClicked,a.tooltipTemplate,a.tooltipAppendToBody,a.tooltipDisabled,a.tooltipDelay,a.column,a.daysInWeek]))}},dependencies:[v.T3,v.B3,Nt,Lt,Xt,K,be,rt,ee],encapsulation:2}),t})(),ii=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,a){if(1&e&&n.DNE(0,sr,3,13,"ng-template",null,0,n.C5r)(2,lr,0,0,"ng-template",1),2&e){const i=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||i)("ngTemplateOutletContext",n.s1E(2,ir,a.segment,a.locale,a.segmentHeight,a.isTimeLabel,a.daysInWeek))}},dependencies:[v.YU,v.bT,v.T3,He,ee],encapsulation:2}),t})(),oi=(()=>{class t{constructor(e,a){this.dateAdapter=e,this.zone=a,this.columnDate$=new Sn.t(void 0),this.marker$=this.zone.onStable.pipe((0,xe.n)(()=>(0,bn.Y)(6e4)),(0,wt.Z)(0),function On(t,r){return(0,Mn.T)(r)?(0,xe.n)(()=>t,r):(0,xe.n)(()=>t)}(this.columnDate$),(0,z.T)(i=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(i,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(i,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),c=new Date;return{isVisible:this.dateAdapter.isSameDay(i,c)&&c>=o&&c<=s,top:this.dateAdapter.differenceInMinutes(c,o)*l}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(oe),n.rXU(n.SKi))},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[n.OA$],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,a){if(1&e&&(n.DNE(0,ur,1,1,"ng-template",null,0,n.C5r)(2,mr,0,0,"ng-template",1),n.nI1(3,"async"),n.nI1(4,"async")),2&e){let i;const o=n.sdS(1);n.R7$(2),n.Y8G("ngTemplateOutlet",a.customTemplate||o)("ngTemplateOutletContext",n.sGs(6,dr,a.columnDate,a.dayStartHour,a.dayStartMinute,a.dayEndHour,a.dayEndMinute,null==(i=n.bMT(3,2,a.marker$))?null:i.isVisible,null==(i=n.bMT(4,4,a.marker$))?null:i.top))}},dependencies:[v.bT,v.T3,v.Jj],encapsulation:2}),t})(),Zt=(()=>{class t{constructor(e,a,i,o,s){this.cdr=e,this.utils=a,this.dateAdapter=o,this.element=s,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new n.bkB,this.eventClicked=new n.bkB,this.eventTimesChanged=new n.bkB,this.beforeViewRender=new n.bkB,this.hourSegmentClicked=new n.bkB,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=it,this.trackByHourSegment=$r,this.trackByHour=jr,this.trackByWeekAllDayEvent=Gr,this.trackByWeekTimeEvent=Nr,this.trackByHourColumn=(l,c)=>c.hours[0]?c.hours[0].segments[0].date.toISOString():c,this.trackById=(l,c)=>c.id,this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const a=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,i=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;a&&this.refreshHeader(),e.events&&Pt(this.events),i&&this.refreshBody(),(a||i)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,a,i){this.timeEventResizes.set(a.event,i),this.resizeStarted(e,a)}timeEventResizing(e,a){this.timeEventResizes.set(e.event,a);const i=new Map,o=[...this.events];this.timeEventResizes.forEach((s,l)=>{const c=this.getTimeEventResizedDates(l,s),d={...l,...c};i.set(d,l);const u=o.indexOf(l);o[u]=d}),this.restoreOriginalEvents(o,i,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const a=this.timeEventResizes.get(e.event);if(a){this.timeEventResizes.delete(e.event);const i=this.getTimeEventResizedDates(e.event,a);this.eventTimesChanged.emit({newStart:i.start,newEnd:i.end,event:e.event,type:J.Resize})}}allDayEventResizeStarted(e,a,i){this.allDayEventResizes.set(a,{originalOffset:a.offset,originalSpan:a.span,edge:typeof i.edges.left<"u"?"left":"right"}),this.resizeStarted(e,a,this.getDayColumnWidth(e))}allDayEventResizing(e,a,i){const o=this.allDayEventResizes.get(e),s=this.rtl?-1:1;if(typeof a.edges.left<"u"){const l=Math.round(+a.edges.left/i)*s;e.offset=o.originalOffset+l,e.span=o.originalSpan-l}else if(typeof a.edges.right<"u"){const l=Math.round(+a.edges.right/i)*s;e.span=o.originalSpan+l}}allDayEventResizeEnded(e){const a=this.allDayEventResizes.get(e);if(a){const i="left"===a.edge;let o;o=i?e.offset-a.originalOffset:e.span-a.originalSpan,e.offset=a.originalOffset,e.span=a.originalSpan;const s=this.getAllDayEventResizedDates(e.event,o,i);this.eventTimesChanged.emit({newStart:s.start,newEnd:s.end,event:e.event,type:J.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,a,i){(function Ur(t,r,e,a){return t.dropData&&t.dropData.event&&(t.dropData.calendarId!==a||t.dropData.event.allDay&&!e||!t.dropData.event.allDay&&e)})(e,0,i,this.calendarId)&&this.lastDragEnterDate.getTime()===a.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:J.Drop,event:e.dropData.event,newStart:a,allDay:i}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,a,i,o){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new ti(e,a);this.validateDrag=({x:l,y:c,transform:d})=>{const u=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&s.validateDrag({x:l,y:c,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:d});if(u&&this.validateEventTimesChanged){const p=this.getDragMovedEventTimes(i,{x:l,y:c},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:J.Drag,event:i.event,newStart:p.start,newEnd:p.end})}return u},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(l=>{const c=l.events.find(d=>d.event===i.event&&d!==i);c&&(c.width=0,c.height=0)}),this.cdr.markForCheck()}dragMove(e,a){const i=this.getDragMovedEventTimes(e,a,this.dayColumnWidth,!0),o=e.event,s={...o,...i},l=this.events.map(c=>c===o?s:c);this.restoreOriginalEvents(l,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,a,i,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:l}=this.getDragMovedEventTimes(e,a,i,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function Pr(t,r,e){const a=r||t;return e.start<=t&&t<=e.end||e.start<=a&&a<=e.end}(s,l,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:s,newEnd:l,event:e.event,type:J.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays,...st(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit({header:this.days,...this.view})}getWeekView(e){return this.utils.getWeekView({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight,...st(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}getDragMovedEventTimes(e,a,i,o){const s=Kt(a.x,i)/i*(this.rtl?-1:1),l=o?ot(a.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,c=this.dateAdapter.addMinutes(te(this.dateAdapter,e.event.start,s,this.excludeDays),l);let d;return e.event.end&&(d=this.dateAdapter.addMinutes(te(this.dateAdapter,e.event.end,s,this.excludeDays),l)),{start:c,end:d}}restoreOriginalEvents(e,a,i=!0){const o=this.view;i&&(this.view=this.getWeekView(e));const s=e.filter(l=>a.has(l));this.view.hourColumns.forEach((l,c)=>{o.hourColumns[c].hours.forEach((d,u)=>{d.segments.forEach((p,h)=>{l.hours[u].segments[h].cssClass=p.cssClass})}),s.forEach(d=>{const u=a.get(d),p=l.events.find(h=>h.event===(i?d:u));p?(p.event=u,p.tempEvent=d,i||(p.height=0,p.width=0)):l.events.push({event:u,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),a.clear()}getTimeEventResizedDates(e,a){const i={start:e.start,end:Qt(this.dateAdapter,e,this.minimumEventHeight)},{end:o,...s}=e,l={start:this.dateAdapter.addMinutes(i.end,-1*this.minimumEventHeight),end:Qt(this.dateAdapter,s,this.minimumEventHeight)},c=this.rtl?-1:1;if(typeof a.edges.left<"u"){const d=Math.round(+a.edges.left/this.dayColumnWidth)*c,u=te(this.dateAdapter,i.start,d,this.excludeDays);i.start=u<l.start?u:l.start}else if(typeof a.edges.right<"u"){const d=Math.round(+a.edges.right/this.dayColumnWidth)*c,u=te(this.dateAdapter,i.end,d,this.excludeDays);i.end=u>l.end?u:l.end}if(typeof a.edges.top<"u"){const d=ot(a.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(i.start,d);i.start=u<l.start?u:l.start}else if(typeof a.edges.bottom<"u"){const d=ot(a.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(i.end,d);i.end=u>l.end?u:l.end}return i}resizeStarted(e,a,i){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new ni(e,i,this.rtl);this.validateResize=({rectangle:s,edges:l})=>{const c=o.validateResize({rectangle:{...s},edges:l});if(c&&this.validateEventTimesChanged){let d;if(i){const u=this.rtl?-1:1;if(typeof l.left<"u"){const p=Math.round(+l.left/i)*u;d=this.getAllDayEventResizedDates(a.event,p,!this.rtl)}else{const p=Math.round(+l.right/i)*u;d=this.getAllDayEventResizedDates(a.event,p,this.rtl)}}else d=this.getTimeEventResizedDates(a.event,{rectangle:s,edges:l});return this.validateEventTimesChanged({type:J.Resize,event:a.event,newStart:d.start,newEnd:d.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(e,a,i){let o=e.start,s=e.end||e.start;return i?o=te(this.dateAdapter,o,a,this.excludeDays):s=te(this.dateAdapter,s,a,this.excludeDays),{start:o,end:s}}}return t.\u0275fac=function(e){return new(e||t)(n.rXU(n.gRc),n.rXU(Fe),n.rXU(n.xe9),n.rXU(oe),n.rXU(n.aKT))},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[n.OA$],decls:8,vars:9,consts:[["dayColumns",""],["allDayEventsContainer",""],["eventRowContainer",""],["event",""],["weekEventTemplate",""],["role","grid",1,"cal-week-view"],[3,"dayHeaderClicked","eventDropped","dragEnter","days","locale","customTemplate"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress"],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag"],[3,"ngTemplateOutlet"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"mwlClick","drop","dragEnter","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel"]],template:function(e,a){if(1&e){const i=n.RV6();n.j41(0,"div",5)(1,"mwl-calendar-week-view-header",6),n.bIt("dayHeaderClicked",function(s){return n.eBV(i),n.Njj(a.dayHeaderClicked.emit(s))})("eventDropped",function(s){return n.eBV(i),n.Njj(a.eventDropped({dropData:s},s.newStart,!0))})("dragEnter",function(s){return n.eBV(i),n.Njj(a.dateDragEnter(s.date))}),n.k0s(),n.DNE(2,kr,6,5,"div",7),n.j41(3,"div",8),n.bIt("dragEnter",function(){return n.eBV(i),n.Njj(a.dragEnter("time"))})("dragLeave",function(){return n.eBV(i),n.Njj(a.dragLeave("time"))}),n.DNE(4,Mr,2,2,"div",9),n.j41(5,"div",10,0),n.DNE(7,xr,5,13,"div",11),n.k0s()()()}2&e&&(n.R7$(),n.Y8G("days",a.days)("locale",a.locale)("customTemplate",a.headerTemplate),n.R7$(),n.Y8G("ngIf",a.view.allDayEventRows.length>0),n.R7$(2),n.Y8G("ngIf",a.view.hourColumns.length>0&&1!==a.daysInWeek),n.R7$(),n.AVh("cal-resize-active",a.timeEventResizes.size>0),n.R7$(2),n.Y8G("ngForOf",a.view.hourColumns)("ngForTrackBy",a.trackByHourColumn))},dependencies:[v.YU,v.Sq,v.bT,v.T3,At,ya,tt,Te,K,ai,ri,ii,oi],encapsulation:2}),t})(),dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[v.MD,Yt,Ee,he,Yt,Ee]}),t})(),si=(()=>{class t{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new n.bkB,this.hourSegmentClicked=new n.bkB,this.eventTimesChanged=new n.bkB,this.beforeViewRender=new n.bkB}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender","daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged"]],template:function(e,a){1&e&&(n.j41(0,"mwl-calendar-week-view",0),n.bIt("eventClicked",function(o){return a.eventClicked.emit(o)})("hourSegmentClicked",function(o){return a.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return a.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return a.beforeViewRender.emit(o)}),n.k0s()),2&e&&n.Y8G("daysInWeek",1)("viewDate",a.viewDate)("events",a.events)("hourSegments",a.hourSegments)("hourDuration",a.hourDuration)("hourSegmentHeight",a.hourSegmentHeight)("minimumEventHeight",a.minimumEventHeight)("dayStartHour",a.dayStartHour)("dayStartMinute",a.dayStartMinute)("dayEndHour",a.dayEndHour)("dayEndMinute",a.dayEndMinute)("refresh",a.refresh)("locale",a.locale)("eventSnapSize",a.eventSnapSize)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDelay",a.tooltipDelay)("resizeCursors",a.resizeCursors)("hourSegmentTemplate",a.hourSegmentTemplate)("eventTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("snapDraggedEvents",a.snapDraggedEvents)("allDayEventsLabelTemplate",a.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",a.currentTimeMarkerTemplate)("validateEventTimesChanged",a.validateEventTimesChanged)},dependencies:[Zt],encapsulation:2}),t})(),en=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[v.MD,he,dt]}),t})(),li=(()=>{class t{static forRoot(e,a={}){return{ngModule:t,providers:[e,a.eventTitleFormatter||at,a.dateFormatter||Oe,a.utils||Fe,a.a11y||Me]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[he,qt,dt,en,he,qt,dt,en]}),t})();function di(t,r){if(1&t){const e=n.RV6();n.j41(0,"div",17),n.bIt("mwlClick",function(i){const o=n.eBV(e).$implicit,s=n.XpG().dayHeaderClicked;return n.Njj(s.emit({day:o,sourceEvent:i}))})("drop",function(i){const o=n.eBV(e).$implicit,s=n.XpG().eventDropped;return n.Njj(s.emit({event:i.dropData.event,newStart:o.date}))})("dragEnter",function(){const i=n.eBV(e).$implicit,o=n.XpG().dragEnter;return n.Njj(o.emit({date:i.date}))}),n.j41(1,"b"),n.EFF(2),n.nI1(3,"date"),n.k0s(),n.nrm(4,"br"),n.j41(5,"span"),n.EFF(6),n.nI1(7,"date"),n.k0s()()}if(2&t){const e=r.$implicit;n.AVh("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),n.Y8G("ngClass",e.cssClass),n.R7$(2),n.JRh(n.i5U(3,11,e.date,"EEE")),n.R7$(4),n.JRh(n.i5U(7,14,e.date,"dd"))}}function ci(t,r){if(1&t&&(n.j41(0,"div",15),n.DNE(1,di,8,17,"div",16),n.k0s()),2&t){const e=r.days,a=r.trackByWeekDayHeaderDate;n.R7$(),n.Y8G("ngForOf",e)("ngForTrackBy",a)}}let ui=(()=>{class t extends Dn.S{stylesImport='"styles": [\n    "node_modules/angular-calendar/css/angular-calendar.css",\n    "node_modules/@porscheinformatik/clr-addons/styles/clr-addons-phs.min.css",\n  ],';weekViewExampleCode="  events: CalendarEvent[] = [\n    {\n      start: addHours(startOfDay(new Date()),8),\n      end: subHours(endOfDay(new Date()),4),\n      title: 'Lorem Ipsum',\n    },\n    {\n      start: addHours(startOfDay(new Date()),9),\n      end: subHours(endOfDay(new Date()),6),\n      title: 'Lorem Ipsum',\n    },\n    {\n      start: addHours(startOfYesterday(),10),\n      end: addHours(startOfYesterday(),11),\n      title: 'Lorem Ipsum',\n    },\n    {\n      start: addHours(startOfYesterday(),12),\n      end: subHours(startOfYesterday(),14),\n      title: 'Lorem Ipsum',\n    },\n  ];";weekViewFormatExampleCode='\n  <mwl-calendar-week-view\n  [viewDate]="viewDate"\n  [events]="events"\n  [headerTemplate]="customHeaderTemplate"\n>\n</mwl-calendar-week-view>\n\n<ng-template\n  #customHeaderTemplate\n  let-days="days"\n  let-locale="locale"\n  let-dayHeaderClicked="dayHeaderClicked"\n  let-eventDropped="eventDropped"\n  let-trackByWeekDayHeaderDate="trackByWeekDayHeaderDate"\n  let-dragEnter="dragEnter"\n>\n  <div class="cal-day-headers" role="row">\n    <div\n      class="cal-header"\n      *ngFor="let day of days; trackBy: trackByWeekDayHeaderDate"\n      [class.cal-past]="day.isPast"\n      [class.cal-today]="day.isToday"\n      [class.cal-future]="day.isFuture"\n      [class.cal-weekend]="day.isWeekend"\n      [ngClass]="day.cssClass"\n      (mwlClick)="dayHeaderClicked.emit({ day: day, sourceEvent: $event })"\n      mwlDroppable\n      dragOverClass="cal-drag-over"\n      (drop)="\n  eventDropped.emit({\n    event: $event.dropData.event,\n    newStart: day.date\n  })\n"\n      (dragEnter)="dragEnter.emit({ date: day.date })"\n      tabindex="0"\n      role="columnheader"\n    >\n      <b>{{ day.date | date : "EEE" }}</b>\n      <br />\n      <span>{{ day.date | date : "dd" }}</span>\n    </div>\n  </div>\n</ng-template>';dailyEvents=[{start:X(new Date),title:"Lorem Ipsum",cssClass:"expand",end:fe(new Date),meta:{}}];viewDate=new Date;events=[{start:Q(X(new Date),8),end:Ie(fe(new Date),4),title:"Lorem Ipsum"},{start:Q(X(new Date),9),end:Ie(fe(new Date),6),title:"Lorem Ipsum"},{start:Q(ge(),10),end:Q(ge(),11),title:"Lorem Ipsum"},{start:Q(ge(),12),end:Ie(ge(),14),title:"Lorem Ipsum"}];constructor(){super("angular-calendar")}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=n.VBU({type:t,selectors:[["clr-angular-calendar-demo"]],hostVars:4,hostBindings:function(a,i){2&a&&n.AVh("content-area",!0)("dox-content-panel",!0)},features:[n.Vt3],decls:80,vars:22,consts:[["customHeaderTemplate",""],[3,"title"],[1,"component-summary"],["href","https://github.com/mattlewis92/angular-calendar#readme"],["clrCode","ng add angular-calendar"],["clrCode","npm install --save angular-calendar date-fns"],["clrCode",'@import "../node_modules/angular-calendar/css/angular-calendar.css"'],[3,"clrCode"],["id","code-examples"],["id","examples"],[1,"clr-code"],[2,"width","100%",3,"viewDate","dayStartHour","dayEndHour","events"],[2,"width","100%",3,"viewDate","events","dayStartHour","dayEndHour","headerTemplate"],[2,"width","100%",3,"viewDate","events"],["href","https://mattlewis-github.com/angular-calendar/docs/"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"mwlClick","drop","dragEnter","ngClass"]],template:function(a,i){if(1&a&&(n.j41(0,"clr-doc-wrapper",1)(1,"article")(2,"h5",2),n.EFF(3," A "),n.j41(4,"a",3),n.EFF(5,"calendar component"),n.k0s(),n.EFF(6," that can display events on a month, week or day view. "),n.k0s(),n.j41(7,"h2"),n.EFF(8,"Installation"),n.k0s(),n.j41(9,"p"),n.EFF(10," Clarity Addons provides clarity specific custom styles for the angular calendar component. The component itself is not included itself in the clarity addons. "),n.k0s(),n.nrm(11,"br"),n.j41(12,"ol")(13,"li"),n.EFF(14," First install through npm: "),n.nrm(15,"clr-code-snippet",4),n.EFF(16," or "),n.nrm(17,"clr-code-snippet",5),n.k0s(),n.j41(18,"li"),n.EFF(19," Next include the CSS file in the global styles of your app or in the angular.json. "),n.nrm(20,"clr-code-snippet",6),n.k0s(),n.j41(21,"li"),n.EFF(22," Verify that the 'clarity-addons' style imports come after the 'angular-calendar' style imports in your project. This sequence is crucial as it allows 'clarity-addons' styles to effectively override the 'angular-calendar' styles. "),n.nrm(23,"clr-code-snippet",7),n.k0s()(),n.j41(24,"div",8)(25,"h2",9),n.EFF(26,"Code & Examples"),n.k0s(),n.j41(27,"h3")(28,"code",10),n.EFF(29,"mwl-calendar-week-view"),n.k0s(),n.EFF(30," component"),n.k0s(),n.j41(31,"p"),n.EFF(32," To use the weekly view of the calendar, use the "),n.j41(33,"code",10),n.EFF(34,"mwl-calendar-week-view"),n.k0s(),n.EFF(35," component. Provide a "),n.j41(36,"code",10),n.EFF(37,"[viewDate]"),n.k0s(),n.EFF(38," and "),n.j41(39,"code",10),n.EFF(40,"[events]"),n.k0s(),n.EFF(41," data to get started. "),n.k0s(),n.nrm(42,"clr-code-snippet",7)(43,"clr-code-snippet",7)(44,"mwl-calendar-week-view",11),n.j41(45,"p"),n.EFF(46," To customize for example the style and the format of day and time, utilize custom templates. For instance, if you want to display the day and date in a unique format in the header: "),n.k0s(),n.nrm(47,"clr-code-snippet",7)(48,"mwl-calendar-week-view",12),n.DNE(49,ci,2,2,"ng-template",null,0,n.C5r),n.j41(51,"h3")(52,"code",10),n.EFF(53,"mwl-calendar-month-view"),n.k0s(),n.EFF(54," component"),n.k0s(),n.j41(55,"p"),n.EFF(56," To use the monthly view of the calendar, use the "),n.j41(57,"code",10),n.EFF(58,"mwl-calendar-month-view"),n.k0s(),n.EFF(59," component. "),n.k0s(),n.nrm(60,"clr-code-snippet",7)(61,"br")(62,"mwl-calendar-month-view",13),n.j41(63,"h3")(64,"code",10),n.EFF(65,"mwl-calendar-day-view"),n.k0s(),n.EFF(66," component"),n.k0s(),n.j41(67,"p"),n.EFF(68," To use the daily view of the calendar, use the "),n.j41(69,"code",10),n.EFF(70,"mwl-calendar-day-view"),n.k0s(),n.EFF(71," component. "),n.k0s(),n.nrm(72,"clr-code-snippet",7)(73,"br")(74,"mwl-calendar-day-view",11),n.j41(75,"p"),n.EFF(76," For more information and examples, visit the official "),n.j41(77,"a",14),n.EFF(78,"documentation"),n.k0s(),n.EFF(79,". "),n.k0s()()()()),2&a){const o=n.sdS(50);n.Y8G("title",i.title),n.R7$(23),n.Y8G("clrCode",i.stylesImport),n.R7$(19),n.Y8G("clrCode",'<mwl-calendar-week-view [viewDate]="viewDate" [events]="events" [dayStartHour]="6" [dayEndHour]="20"></mwl-calendar-week-view>'),n.R7$(),n.Y8G("clrCode",i.weekViewExampleCode),n.R7$(),n.Y8G("viewDate",i.viewDate)("dayStartHour",6)("dayEndHour",20)("events",i.events),n.R7$(3),n.Y8G("clrCode",i.weekViewFormatExampleCode),n.R7$(),n.Y8G("viewDate",i.viewDate)("events",i.events)("dayStartHour",6)("dayEndHour",20)("headerTemplate",o),n.R7$(12),n.Y8G("clrCode",'<mwl-calendar-month-view [viewDate]="viewDate" [events]="events"></mwl-calendar-month-view>'),n.R7$(2),n.Y8G("viewDate",i.viewDate)("events",i.events),n.R7$(10),n.Y8G("clrCode",'<mwl-calendar-day-view [viewDate]="viewDate" [dayStartHour]="6" [dayEndHour]="20" [events]="events"></mwl-calendar-day-view>'),n.R7$(2),n.Y8G("viewDate",i.viewDate)("dayStartHour",6)("dayEndHour",20)("events",i.events)}},dependencies:[v.YU,v.Sq,_n.z,Tn.u,K,Te,ei,Zt,si,v.vh],encapsulation:2})}return t})();var mi=k(21626),tn=k(31635);function ct(t,r){E(2,arguments);var e=F(t),a=I(r);return isNaN(a)?new Date(NaN):(a&&e.setDate(e.getDate()+a),e)}var pi=6e4;function hi(t,r){return E(2,arguments),Be(t,I(r)*pi)}function vi(t,r){return E(2,arguments),Be(t,1e3*I(r))}function nn(t){var r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),t.getTime()-r.getTime()}var fi=864e5;function an(t,r){var e=t.getFullYear()-r.getFullYear()||t.getMonth()-r.getMonth()||t.getDate()-r.getDate()||t.getHours()-r.getHours()||t.getMinutes()-r.getMinutes()||t.getSeconds()-r.getSeconds()||t.getMilliseconds()-r.getMilliseconds();return e<0?-1:e>0?1:e}function yi(t,r){E(2,arguments);var e=F(t),a=F(r),i=an(e,a),o=Math.abs(function gi(t,r){E(2,arguments);var e=X(t),a=X(r),i=e.getTime()-nn(e),o=a.getTime()-nn(a);return Math.round((i-o)/fi)}(e,a));e.setDate(e.getDate()-i*o);var l=i*(o-+(an(e,a)===-i));return 0===l?0:l}Math.pow(10,8);var Ci=6e4;function on(t,r){return E(2,arguments),F(t).getTime()-F(r).getTime()}var sn={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},ki="trunc";function ln(t){return t?sn[t]:sn[ki]}function Si(t,r,e){E(2,arguments);var a=on(t,r)/Ci;return ln(e?.roundingMethod)(a)}function bi(t,r,e){E(2,arguments);var a=on(t,r)/1e3;return ln(e?.roundingMethod)(a)}function Mi(t){E(1,arguments);var r=F(t),e=r.getMonth();return r.setFullYear(r.getFullYear(),e+1,0),r.setHours(23,59,59,999),r}var dn={};function cn(){return dn}function Oi(t,r){var e,a,i,o,s,l,c,d;E(1,arguments);var u=cn(),p=I(null!==(e=null!==(a=null!==(i=null!==(o=r?.weekStartsOn)&&void 0!==o?o:null==r||null===(s=r.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==a?a:null===(c=u.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=F(t),m=h.getDay(),g=6+(m<p?-7:0)-(m-p);return h.setDate(h.getDate()+g),h.setHours(23,59,59,999),h}function Hi(t){return E(1,arguments),F(t).getDay()}function Fi(t){return E(1,arguments),F(t).getMonth()}function Ri(t,r){E(2,arguments);var e=X(t),a=X(r);return e.getTime()===a.getTime()}function Vi(t,r){E(2,arguments);var e=F(t),a=F(r);return e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()}function un(t){E(1,arguments);var r=F(t);return r.setMilliseconds(0),r}function Bi(t,r){E(2,arguments);var e=un(t),a=un(r);return e.getTime()===a.getTime()}function Ii(t){var r,e;if(E(1,arguments),t&&"function"==typeof t.forEach)r=t;else{if("object"!==ve(t)||null===t)return new Date(NaN);r=Array.prototype.slice.call(t)}return r.forEach(function(a){var i=F(a);(void 0===e||e<i||isNaN(Number(i)))&&(e=i)}),e||new Date(NaN)}function xi(t,r){E(2,arguments);var e=F(t),a=I(r);return e.setHours(a),e}function Wi(t,r){E(2,arguments);var e=F(t),a=I(r);return e.setMinutes(a),e}function zi(t){E(1,arguments);var r=F(t);return r.setSeconds(0,0),r}function Ai(t){E(1,arguments);var r=F(t);return r.setDate(1),r.setHours(0,0,0,0),r}function mn(t,r){var e,a,i,o,s,l,c,d;E(1,arguments);var u=cn(),p=I(null!==(e=null!==(a=null!==(i=null!==(o=r?.weekStartsOn)&&void 0!==o?o:null==r||null===(s=r.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==a?a:null===(c=u.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=F(t),m=h.getDay(),g=(m<p?7:0)+m-p;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}function Yi(t){return E(1,arguments),F(t).getHours()}function $i(t){return E(1,arguments),F(t).getMinutes()}function ji(t){return new Date(t).getTimezoneOffset()}function pn(t,r){return E(2,arguments),ct(t,7*I(r))}function hn(t,r){E(2,arguments);var e=F(t),a=I(r);if(isNaN(a))return new Date(NaN);if(!a)return e;var i=e.getDate(),o=new Date(e.getTime());return o.setMonth(e.getMonth()+a+1,0),i>=o.getDate()?o:(e.setFullYear(o.getFullYear(),o.getMonth(),i),e)}function Ni(t,r){return E(2,arguments),ct(t,-I(r))}function Li(t,r){return E(2,arguments),pn(t,-I(r))}function Xi(t,r){return E(2,arguments),hn(t,-I(r))}function Re(t){return E(1,arguments),mn(t,{weekStartsOn:1})}var Ki=6048e5;function Ji(t){E(1,arguments);var r=F(t),e=Re(r).getTime()-function Ui(t){E(1,arguments);var r=function Pi(t){E(1,arguments);var r=F(t),e=r.getFullYear(),a=new Date(0);a.setFullYear(e+1,0,4),a.setHours(0,0,0,0);var i=Re(a),o=new Date(0);o.setFullYear(e,0,4),o.setHours(0,0,0,0);var s=Re(o);return r.getTime()>=i.getTime()?e+1:r.getTime()>=s.getTime()?e:e-1}(t),e=new Date(0);return e.setFullYear(r,0,4),e.setHours(0,0,0,0),Re(e)}(r).getTime();return Math.round(e/Ki)+1}function Qi(t,r){E(2,arguments);var e=F(t),a=I(r);return e.setDate(a),e}function Zi(t,r){E(2,arguments);var e=F(t),a=I(r),i=e.getFullYear(),o=e.getDate(),s=new Date(0);s.setFullYear(i,a,15),s.setHours(0,0,0,0);var l=function qi(t){E(1,arguments);var r=F(t),e=r.getFullYear(),a=r.getMonth(),i=new Date(0);return i.setFullYear(e,a+1,0),i.setHours(0,0,0,0),i.getDate()}(s);return e.setMonth(a,Math.min(o,l)),e}function eo(t,r){E(2,arguments);var e=F(t),a=I(r);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(a),e)}function to(t){return E(1,arguments),F(t).getDate()}function no(t){return E(1,arguments),F(t).getFullYear()}function ao(){return(0,tn.Cl)((0,tn.Cl)({},function Gi(){return{addDays:ct,addHours:Q,addMinutes:hi,addSeconds:vi,differenceInDays:yi,differenceInMinutes:Si,differenceInSeconds:bi,endOfDay:fe,endOfMonth:Mi,endOfWeek:Oi,getDay:Hi,getMonth:Fi,isSameDay:Ri,isSameMonth:Vi,isSameSecond:Bi,max:Ii,setHours:xi,setMinutes:Wi,startOfDay:X,startOfMinute:zi,startOfMonth:Ai,startOfWeek:mn,getHours:Yi,getMinutes:$i,getTimezoneOffset:ji}}()),{addWeeks:pn,addMonths:hn,subDays:Ni,subWeeks:Li,subMonths:Xi,getISOWeek:Ji,setDate:Qi,setMonth:Zi,setYear:eo,getDate:to,getYear:no})}let ro=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=n.$C({type:t});static \u0275inj=n.G2t({imports:[v.MD,mi.q1,gt.YN,gt.X1,yt.PuD,yt.t5G,yn.u,wn.g,fn.iI.forChild([{path:"",component:ui}]),gn.P8i,li.forRoot({provide:oe,useFactory:ao})]})}return t})()}}]);