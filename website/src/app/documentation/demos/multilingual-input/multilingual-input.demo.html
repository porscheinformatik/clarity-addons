<clr-doc-wrapper [title]="title">
  <article>
    <h5 class="component-summary">
      The multilingual input/textarea fields are used to enter texts in different languages.
    </h5>

    <div id="code-examples">
      <h3 id="examples">Code &amp; Examples</h3>

      <p>The multilingual input/textarea components require you to use custom validators:</p>
      <ul>
        <li>Reactive forms: <code class="clr-code">ClrMultilingualInputValidators</code></li>
        <li>Template-driven forms: <code class="clr-code">clrRequiredOneMultilang, clrRequiredAllMultilang</code></li>
      </ul>

      <h2>Angular Component</h2>
      <h3>Summary of Options</h3>
      <table class="table">
        <thead>
          <tr>
            <th class="left">Parameter</th>
            <th class="left clr-hidden-xs-down">Values</th>
            <th class="clr-hidden-xs-down">Default</th>
            <th class="left">Effect</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="left">
              <b>value binding (ngModel or reactive)</b>
              <div class="clr-hidden-sm-up">Type: Map&lt;string, string></div>
              <div class="clr-hidden-sm-up">Default: null</div>
            </td>
            <td class="left clr-hidden-xs-down">Map of language and translation</td>
            <td class="clr-hidden-xs-down">null</td>
            <td class="left">
              Value binding for control represented by a map of language as key and translation as value.
            </td>
          </tr>
          <tr>
            <td class="left">
              <b>[clrSelectedLang]</b>
              <div class="clr-hidden-sm-up">Type: String</div>
              <div class="clr-hidden-sm-up">Default: ""</div>
            </td>
            <td class="left clr-hidden-xs-down">Javascript String</td>
            <td class="clr-hidden-xs-down">""</td>
            <td class="left">Defines the currently selected language.</td>
          </tr>
          <tr>
            <td class="left">
              <b>[clrControlClasses]</b>
              <div class="clr-hidden-sm-up">Type: String</div>
              <div class="clr-hidden-sm-up">Default: "clr-col-md-10"</div>
            </td>
            <td class="left clr-hidden-xs-down">Javascript String</td>
            <td class="clr-hidden-xs-down">"clr-col-md-10"</td>
            <td class="left">Defines the css classes applied to the input control.</td>
          </tr>
          <tr>
            <td class="left">
              <b>[clrShowSingleLanguageSelector]</b>
              <div class="clr-hidden-sm-up">Type: boolean</div>
              <div class="clr-hidden-sm-up">Default: false</div>
            </td>
            <td class="left clr-hidden-xs-down">Javascript boolean</td>
            <td class="clr-hidden-xs-down">false</td>
            <td class="left">Defines whether the language selector is shown when only one language is present.</td>
          </tr>
          <tr>
            <td class="left">
              <b>[clrLanguages]</b>
              <div class="clr-hidden-sm-up">Type: string[]</div>
              <div class="clr-hidden-sm-up">Default: undefined</div>
            </td>
            <td class="left clr-hidden-xs-down">Javascript string array</td>
            <td class="clr-hidden-xs-down">undefined</td>
            <td class="left">
              Defines the languages to show in language selector independently from bound form model.
            </td>
          </tr>
          <tr>
            <td class="left">
              <b>[clrFallbackLang]</b>
              <div class="clr-hidden-sm-up">Type: string</div>
              <div class="clr-hidden-sm-up">Default: undefined</div>
            </td>
            <td class="left clr-hidden-xs-down">Javascript string</td>
            <td class="clr-hidden-xs-down">undefined</td>
            <td class="left">
              Defines the language to show text from when a text in a language is missing.
              <code class="clr-code">clrMissingPrefix</code> must be defined as a prerequisite.
            </td>
          </tr>
          <tr>
            <td class="left">
              <b>[clrMissingPrefix]</b>
              <div class="clr-hidden-sm-up">Type: string</div>
              <div class="clr-hidden-sm-up">Default: ""</div>
            </td>
            <td class="left clr-hidden-xs-down">Javascript string</td>
            <td class="clr-hidden-xs-down">""</td>
            <td class="left">Defines the prefix which will be shown when a text in a language is missing.</td>
          </tr>
        </tbody>
      </table>

      <h3>Reactive forms</h3>
      <p>Validation will happen on blur</p>
      <form clrForm [formGroup]="exampleForm">
        <clr-multilingual-input
          class="clr-col-12 clr-row"
          clrSelectedLang="EN"
          formControlName="sample1"
          clrControlClasses="clr-col-md-5"
          name="reactive1"
        >
          <label class="clr-col-md-2 clr-required-mark">Reactive</label>
          <clr-control-helper>Helper text</clr-control-helper>
          <clr-control-error>Please translate in every language!</clr-control-error>
        </clr-multilingual-input>
        <clr-multilingual-textarea
          class="clr-col-12 clr-row"
          clrSelectedLang="EN"
          formControlName="sample2"
          clrControlClasses="clr-col-md-5"
          name="reactive2"
        >
          <label class="clr-col-md-2 clr-required-mark">Reactive</label>
          <clr-control-helper>Helper text</clr-control-helper>
          <clr-control-error>Please translate in every language!</clr-control-error>
        </clr-multilingual-textarea>

        <h4>Output texts</h4>
        <div class="clr-row">
          <div class="clr-col-4">
            <b>Input</b><br />
            EN: {{exampleForm.get('sample1').value.get('EN')}}<br />
            DE: {{exampleForm.get('sample1').value.get('DE')}}<br />
            FR: {{exampleForm.get('sample1').value.get('FR')}}
          </div>
          <div class="clr-col-8">
            <b>Textarea</b><br />
            EN: {{exampleForm.get('sample2').value.get('EN')}}<br />
            DE: {{exampleForm.get('sample2').value.get('DE')}}<br />
            FR: {{exampleForm.get('sample2').value.get('FR')}}
          </div>
        </div>
      </form>
      <clr-code-snippet [clrCode]="reactiveExample"></clr-code-snippet>
      <clr-code-snippet [clrCode]="reactiveTSExample" clrLanguage="typescript"></clr-code-snippet>

      <h3>Template driven</h3>
      <p>Validation will happen on blur</p>
      <form clrForm>
        <clr-multilingual-input
          class="clr-col-12 clr-row"
          clrSelectedLang="EN"
          [(ngModel)]="data1"
          [ngModelOptions]="{ updateOn: 'blur' }"
          clrRequiredAllMultilang
          clrControlClasses="clr-col-md-5"
          name="template1"
        >
          <label class="clr-col-md-2 clr-required-mark">Template</label>
          <clr-control-error>Please translate in every language!</clr-control-error>
          <clr-control-helper>Helper text</clr-control-helper>
        </clr-multilingual-input>
        <clr-multilingual-textarea
          class="clr-col-12 clr-row"
          clrSelectedLang="EN"
          [(ngModel)]="data2"
          [ngModelOptions]="{ updateOn: 'blur' }"
          clrRequiredAllMultilang
          clrControlClasses="clr-col-md-5"
          name="template2"
        >
          <label class="clr-col-md-2 clr-required-mark">Template</label>
          <clr-control-error>Please translate in every language!</clr-control-error>
          <clr-control-helper>Helper text</clr-control-helper>
        </clr-multilingual-textarea>

        <h4>Output texts</h4>
        <div class="clr-row">
          <div class="clr-col-4">
            <b>Input</b><br />
            EN: {{data1.get('EN')}}<br />
            DE: {{data1.get('DE')}}<br />
            FR: {{data1.get('FR')}}
          </div>
          <div class="clr-col-8">
            <b>Textarea</b><br />
            EN: {{data2.get('EN')}}<br />
            DE: {{data2.get('DE')}}<br />
            FR: {{data2.get('FR')}}
          </div>
        </div>
        <h4>Output texts</h4>
      </form>
      <clr-code-snippet [clrCode]="templateExample"></clr-code-snippet>
      <clr-code-snippet [clrCode]="templateTSExample" clrLanguage="typescript"></clr-code-snippet>

      <h3>Missing texts handling</h3>
      <p>
        To not only show an empty string for missing texts in a given language, the component provides the possibility
        to define a prefix for missing texts with a fallback logic to show the text of another language.
      </p>
      <p>Fallback text logic:</p>
      <ul>
        <li>Text from fallback language (<code class="clr-code">clrFallbackLang</code>)</li>
        <li>
          Text of first shown (defined in <code class="clr-code">clrLanguages</code> if present) non-empty language
          ordered by language
        </li>
        <li>
          Text of first hidden (not defined in <code class="clr-code">clrLanguages</code> if present) non-empty language
          ordered by language
        </li>
      </ul>

      <form clrForm>
        <clr-multilingual-input
          class="clr-col-12 clr-row"
          clrControlClasses="clr-col-md-5"
          name="templateNA"
          clrSelectedLang="EN"
          [(ngModel)]="templateNa"
          [clrLanguages]="languagesNa"
          clrMissingPrefix="<na> "
        >
          <label class="clr-col-md-2">Missing Text</label>
        </clr-multilingual-input>

        <clr-code-snippet [clrCode]="naExample"></clr-code-snippet>
        <clr-code-snippet [clrCode]="naTSExample" clrLanguage="typescript"></clr-code-snippet>

        <clr-multilingual-input
          class="clr-col-12 clr-row"
          clrControlClasses="clr-col-md-5"
          name="templateNA2"
          clrSelectedLang="EN"
          clrFallbackLang="FR"
          [(ngModel)]="templateNa2"
          [clrLanguages]="languagesNa2"
          clrMissingPrefix="<na> "
        >
          <label class="clr-col-md-2">Missing Text hidden fallback</label>
        </clr-multilingual-input>
        <clr-code-snippet [clrCode]="na2Example"></clr-code-snippet>
        <clr-code-snippet [clrCode]="na2TSExample" clrLanguage="typescript"></clr-code-snippet>
      </form>
    </div>
  </article>
</clr-doc-wrapper>
